{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"lodash\"","webpack:///external \"@grafana/ui\"","webpack:///external \"@grafana/data\"","webpack:///external \"@grafana/runtime\"","webpack:///../node_modules/nearley/lib/nearley.js","webpack:///../node_modules/deepdash/getFilterDeep.js","webpack:///../node_modules/lodash/isObject.js","webpack:///../node_modules/ms/index.js","webpack:///../node_modules/deepdash/getPathToString.js","webpack:///../node_modules/deepdash/getEachDeep.js","webpack:///../node_modules/lodash/_baseGetTag.js","webpack:///../node_modules/lodash/_root.js","webpack:///../node_modules/lodash/isObjectLike.js","webpack:///./css/common.css?259c","webpack:///../node_modules/css-loader/dist/runtime/api.js","webpack:///../node_modules/style-loader/lib/addStyles.js","webpack:///../node_modules/lodash/identity.js","webpack:///../node_modules/lodash/isFunction.js","webpack:///../node_modules/lodash/_Symbol.js","webpack:///../node_modules/lodash/_freeGlobal.js","webpack:///../node_modules/lodash/eq.js","webpack:///../node_modules/lodash/isArrayLike.js","webpack:///../node_modules/lodash/isLength.js","webpack:///../node_modules/lodash/_isIndex.js","webpack:///../node_modules/@grafana/toolkit/node_modules/webpack/buildin/module.js","webpack:///../node_modules/query-string/index.js","webpack:///../node_modules/deepdash/getPaths.js","webpack:///../node_modules/deepdash/getOmitDeep.js","webpack:///../node_modules/lodash/defaults.js","webpack:///../node_modules/strict-uri-encode/index.js","webpack:///../node_modules/decode-uri-component/index.js","webpack:///../node_modules/split-on-first/index.js","webpack:///../node_modules/deepdash/private/getIterate.js","webpack:///../node_modules/deepdash/private/getHasChildren.js","webpack:///../node_modules/deepdash/getCondenseDeep.js","webpack:///../node_modules/deepdash/getCondense.js","webpack:///../node_modules/deepdash/getExists.js","webpack:///../node_modules/deepdash/getPathMatches.js","webpack:///./css/common.css","webpack:///../node_modules/style-loader/lib/urls.js","webpack:///../node_modules/lodash/_baseRest.js","webpack:///../node_modules/lodash/_overRest.js","webpack:///../node_modules/lodash/_apply.js","webpack:///../node_modules/lodash/_setToString.js","webpack:///../node_modules/lodash/_baseSetToString.js","webpack:///../node_modules/lodash/constant.js","webpack:///../node_modules/lodash/_defineProperty.js","webpack:///../node_modules/lodash/_getNative.js","webpack:///../node_modules/lodash/_baseIsNative.js","webpack:///../node_modules/@grafana/toolkit/node_modules/webpack/buildin/global.js","webpack:///../node_modules/lodash/_getRawTag.js","webpack:///../node_modules/lodash/_objectToString.js","webpack:///../node_modules/lodash/_isMasked.js","webpack:///../node_modules/lodash/_coreJsData.js","webpack:///../node_modules/lodash/_toSource.js","webpack:///../node_modules/lodash/_getValue.js","webpack:///../node_modules/lodash/_shortOut.js","webpack:///../node_modules/lodash/_isIterateeCall.js","webpack:///../node_modules/lodash/keysIn.js","webpack:///../node_modules/lodash/_arrayLikeKeys.js","webpack:///../node_modules/lodash/_baseTimes.js","webpack:///../node_modules/lodash/isArguments.js","webpack:///../node_modules/lodash/_baseIsArguments.js","webpack:///../node_modules/lodash/isArray.js","webpack:///../node_modules/lodash/isBuffer.js","webpack:///../node_modules/lodash/stubFalse.js","webpack:///../node_modules/lodash/isTypedArray.js","webpack:///../node_modules/lodash/_baseIsTypedArray.js","webpack:///../node_modules/lodash/_baseUnary.js","webpack:///../node_modules/lodash/_nodeUtil.js","webpack:///../node_modules/lodash/_baseKeysIn.js","webpack:///../node_modules/lodash/_isPrototype.js","webpack:///../node_modules/lodash/_nativeKeysIn.js","webpack:///./css/query_editor.css?036d","webpack:///./css/query_editor.css","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./types.ts","webpack:///./parser/types.ts","webpack:///./utils.ts","webpack:///./parser/ts/grammar.ts","webpack:///./parser/events-assets/grammar.ts","webpack:///./parser/events-assets/index.ts","webpack:///./parser/ts/index.ts","webpack:///./constants.ts","webpack:///./cdf/client.ts","webpack:///./connector.ts","webpack:///./datasource.ts","webpack:///./components/devFeatures.tsx","webpack:///./components/configEditor.tsx","webpack:///./components/queryHelp.tsx","webpack:///./components/resourceSelect.tsx","webpack:///./components/queryEditor.tsx","webpack:///./annotationCtrl.ts","webpack:///./components/variableQueryEditor.tsx","webpack:///./module.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","root","factory","this","Rule","symbols","postprocess","id","highestId","State","rule","dot","reference","wantedBy","data","isComplete","length","Column","grammar","index","states","wants","scannable","completed","Grammar","rules","start","byName","forEach","push","StreamLexer","reset","Parser","options","fromCompiled","keepHistory","lexer","lexerState","undefined","column","table","predict","process","current","getSymbolShortDisplay","symbol","type","literal","JSON","stringify","RegExp","toString","test","String","Error","withCursorAt","symbolSequence","map","join","slice","nextState","child","state","left","right","build","children","node","reverse","finish","fail","nextColumn","w","complete","exp","nulls","copy","Lexer","ParserStart","ParserRules","g","buffer","line","lastLineBreak","col","next","ch","save","formatError","token","message","lines","split","Math","max","nextLineBreak","indexOf","lastLineDigits","pad","Array","feed","chunk","e","err","reportLexerError","offset","text","constructor","expect","isToken","reportError","results","lexerError","tokenDisplay","lexerMessage","reportErrorCommon","lastColumnIndex","lastColumn","expectantStates","filter","nextSymbol","displayStateStack","buildFirstStateStack","stateStack","symbolDisplay","getSymbolDisplay","lastDisplay","sameDisplayCount","j","display","getSymbolLongDisplay","visited","prevState","childVisited","concat","childResult","restore","splice","rewind","considerations","nearley","getPathToString","getEachDeep","getCondenseDeep","getExists","_","eachDeep","pathToString","condenseDeep","exists","obj","predicate","iteratee","cloneDeep","leafsOnly","leavesOnly","onTrue","onFalse","onUndefined","childrenPath","skipChildren","rootReply","eachDeepOptions","pathFormat","merge","checkCircular","keepCircular","condense","keepIfEmpty","includeRoot","rootIsChildren","callbackAfterIterate","res","isArray","isObject","replies","foundCircular","parent","context","curPath","path","afterIterate","isCircular","unset","circularParent","reply","isLeaf","clone","empty","set","isPlainObject","eachRight","parents","each","cv","has","replaceCircularBy","h","plural","ms","msAbs","isPlural","round","val","str","match","exec","parseFloat","toLowerCase","parse","isFinite","long","abs","fmtLong","fmtShort","rxArrIndex","rxVarName","rxQuot","concatPaths","paths","len","arguments","reduce","acc","startsWith","prefixes","isString","apply","replace","notChainable","getIterate","iterate","callback","identity","strChildrenPath","toPath","getRawTag","objectToString","symToStringTag","freeGlobal","freeSelf","self","Function","content","transform","locals","useSourceMap","list","item","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","fn","memo","stylesInDom","isOldIE","window","document","all","atob","getTarget","target","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","createStyleElement","createElement","attrs","nonce","getNonce","addAttrs","el","keys","setAttribute","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","baseGetTag","tag","global","other","isFunction","isLength","reIsUint","webpackPolyfill","deprecate","strictUriEncode","decodeComponent","splitOnFirst","validateArrayFormatSeparator","TypeError","encode","strict","decode","removeHash","input","hashStart","extract","queryStart","parseValue","parseNumbers","Number","isNaN","trim","parseBooleans","assign","sort","arrayFormat","arrayFormatSeparator","formatter","accumulator","newValue","parserForArrayFormat","ret","param","includes","k","keysSorter","a","b","shouldFilter","skipNull","skipEmptyString","encoderForArrayFormat","objectCopy","x","parseUrl","url","hash","query","parseFragmentIdentifier","fragmentIdentifier","stringifyUrl","queryFromUrl","parsedQueryFromUrl","queryString","getHash","includeCircularPath","getFilterDeep","getPathMatches","pathMatches","filterDeep","isOmit","invert","onMatch","onNotMatch","baseRest","eq","isIterateeCall","keysIn","objectProto","defaults","guard","props","propsIndex","propsLength","charCodeAt","toUpperCase","singleMatcher","multiMatcher","decodeComponents","components","decodeURIComponent","tokens","encodedURI","replaceMap","entries","customDecodeURIComponent","string","separator","separatorIndex","getHasChildren","hasChildren","_each","forArray","ref","strPath","depth","currentObj","currentParents","circularParentIndex","isEmpty","needCallback","forChildren","cp","scp","forOwn","childValue","childKey","childPath","strChildPath","some","getCondense","arrays","arr","indexes","pop","pathString","pathArray","isEqual","takeRight","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","$1","overRest","setToString","func","nativeMax","args","array","otherArgs","thisArg","baseSetToString","shortOut","constant","getNative","baseIsNative","getValue","isMasked","toSource","reIsHostCtor","funcProto","funcToString","reIsNative","nativeObjectToString","isOwn","unmasked","uid","coreJsData","maskSrcKey","IE_PROTO","nativeNow","Date","now","count","lastCalled","stamp","remaining","isArrayLike","isIndex","arrayLikeKeys","baseKeysIn","baseTimes","isArguments","isBuffer","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","baseIsArguments","isObjectLike","propertyIsEnumerable","stubFalse","freeExports","nodeType","freeModule","Buffer","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","typedArrayTags","freeProcess","types","require","binding","isPrototype","nativeKeysIn","isProto","Ctor","extendStatics","setPrototypeOf","__proto__","__extends","__","__assign","__awaiter","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","then","__generator","body","f","y","label","sent","trys","ops","verb","iterator","v","op","__values","__read","ar","error","__spread","Tab","HttpMethod","defaultQuery","aggregation","granularity","tab","Timeseries","expr","assetQuery","includeSubtrees","isError","maybeError","QueryParserTypes","isOk","isErr","FilterTypes","toGranularityWithLowerBound","milliseconds","lowerBound","getRequestId","dashboardId","panelId","refId","applyFilters","objs","filters","every","valueToFilter","regex","emptyArray","joinArr","extractPair","operator","parseInt","output","flatten","element","compiledGrammar","omitDeep","parser","trimmedQuery","formatErrorMessage","title","pointer","isInteger","extractedFilters","objValue","objKey","filtered","emptyFilters","currentPath","parentPath","extractedParams","reg","params","expression","connector","defaultInterval","rawParsed","parsed","aggregate","serverFilters","getServerFilters","getTimeseries","tsResult","NoTimeseriesFound","timeseries","clientFilters","clientFilteredTimeseries","multiaryFuncTsIndices","permutations","queryExpressions","series","where","parsedData","defaultValues","STSFilter","exprWithSum","hasIdsFilter","isSTSAggregateFilter","STSReference","ts","flattenSumFunctions","arrayOfArrays","lockIndices","locked","temp","temptemp","expressions","labelSrc","tsIds","items","unwrapId","referencedTS","tsMap","reduceTsToMap","getIdFilters","serie","getLabelWithInjectedProps","externalId","route","idFilters","ids","walk","isMapFunction","responseArr","argsIndices","isMultiaryFunction","extractFilters","condition","extracted","isServerFilter","flattenServerQueryFilters","isClientFilter","flattenClientQueryFilters","stringifyValue","wrap","joinedStr","composeSTSQuery","custom","separateWith","customRes","stringArgs","arg0","arg","isSumFunction","idEither","allIds","referenced","isIdsFilter","isOneOf","isSpecificFunction","failedResponseEvent","datapointsWarningEvent","CacheTime","AuthType","Asset","Custom","variableLabelRegex","calculateDPLimitPerQuery","queriesNumber","hasAggregates","floor","min","formQueriesForTargets","queriesData","getRange","range","end","limit","aggregations","isAggregated","aggregates","intervalMs","formQueryForItems","getLabelsForTarget","queryList","getTimeseriesLabel","targetToIdEither","labelContainsVariableProps","resLabel","full","group","filterIsString","method","POST","fetchItems","cacheTime","fetchAndPaginate","reduceTimeseries","metaResponses","responseTimeseries","labels","config","aggregateStr","datapoints","aggregateProp","dp","timestamp","datapoints2Tuples","concurrent","queries","queryProxy","later","failed","succeded","ok","getLimitsWarnings","getCalculationWarnings","datapointsErrors","Set","add","from","datapointsPath","isSynthetic","targetRefType","project","apiUrl","backendSrv","oauthPassThru","cachedRequests","Map","cachedRequest","queryWithoutId","getOwnPropertySymbols","timeout","request","datasourceRequest","setTimeout","fetchData","requestId","apiUrlAuth","chunkAndFetch","chunkSize","chunkedItems","chunkedRequests","chunkedReqId","promises","mergedItems","maxLimit","queryData","fullLimit","cursor","nextCursor","GET","auth","appEventsLoader","load","instanceSettings","fetchSingleTimeseries","fetchSingleAsset","jsonData","cogniteProject","templateSrv","targets","queryTargets","hide","responseData","fetchTimeseriesForTargets","cancelled","handleFailedTargets","metadata","warning","events","emit","console","itemsForTargetsPromises","getDataQueryRequestItems","replaceVariable","scopedVars","q","Ok","Err","findAssetTimeseries","templatedExpr","annotationQuery","annotation","startTime","endTime","replacedVariablesQuery","timeFrame","description","isRegion","time","timeEnd","getOptionsForDropdown","resources","search","resource2DropdownOption","assetId","assetSubtreeIds","assetIds","metricFindQuery","assets","testDatasource","status","resource","valueOf","to","errMessage","errorMessage","missing","stringifyError","onCheat","keySequence","keyListener","keyCode","addEventListener","removeEventListener","featureFlags","values","className","SecretFormField","FormField","Switch","customQueryHelp","optionalIdsToTargetObj","ResourceSelect","onTargetQueryChange","resourceType","searchResource","fetchSingleResource","setCurrent","externalIdField","setExternalIdField","fetchDropdownResource","migrateToExternalIdRefIfNeeded","width","tooltip","loadOptions","defaultOptions","placeholder","onChange","labelWidth","inputWidth","onBlur","currentOption","aggregateOptions","onQueryChange","menuPosition","checked","currentTarget","AssetTab","datasource","TimeseriesTab","CustomTab","showHelp","setShowHelp","setValue","onClick","withReplacedVariable","templateUrl","help","handleQueryChange","event","setState","handleBlur","render","PureComponent","setConfigEditor","onOptionsChange","secureJsonData","secureJsonFields","cogniteDataPlatformApiKey","cogniteApiUrl","onJsonDataChange","patch","labelClass","isConfigured","onReset","setVariableQueryEditor","setQueryEditor","queryWithoutDefaults","onRunQuery","thisRefId","setErrorMessage","warningMessage","setWarningMessage","shouldRunQuery","onSelectTab","handleError","handleWarning","appEvents","on","off","active","onChangeTab","setAnnotationQueryCtrl"],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 76);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","(function(root, factory) {\n    if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.nearley = factory();\n    }\n}(this, function() {\n\n    function Rule(name, symbols, postprocess) {\n        this.id = ++Rule.highestId;\n        this.name = name;\n        this.symbols = symbols;        // a list of literal | regex class | nonterminal\n        this.postprocess = postprocess;\n        return this;\n    }\n    Rule.highestId = 0;\n\n    Rule.prototype.toString = function(withCursorAt) {\n        var symbolSequence = (typeof withCursorAt === \"undefined\")\n                             ? this.symbols.map(getSymbolShortDisplay).join(' ')\n                             : (   this.symbols.slice(0, withCursorAt).map(getSymbolShortDisplay).join(' ')\n                                 + \"  \"\n                                 + this.symbols.slice(withCursorAt).map(getSymbolShortDisplay).join(' ')     );\n        return this.name + \"  \" + symbolSequence;\n    }\n\n\n    // a State is a rule at a position from a given starting point in the input stream (reference)\n    function State(rule, dot, reference, wantedBy) {\n        this.rule = rule;\n        this.dot = dot;\n        this.reference = reference;\n        this.data = [];\n        this.wantedBy = wantedBy;\n        this.isComplete = this.dot === rule.symbols.length;\n    }\n\n    State.prototype.toString = function() {\n        return \"{\" + this.rule.toString(this.dot) + \"}, from: \" + (this.reference || 0);\n    };\n\n    State.prototype.nextState = function(child) {\n        var state = new State(this.rule, this.dot + 1, this.reference, this.wantedBy);\n        state.left = this;\n        state.right = child;\n        if (state.isComplete) {\n            state.data = state.build();\n            // Having right set here will prevent the right state and its children\n            // form being garbage collected\n            state.right = undefined;\n        }\n        return state;\n    };\n\n    State.prototype.build = function() {\n        var children = [];\n        var node = this;\n        do {\n            children.push(node.right.data);\n            node = node.left;\n        } while (node.left);\n        children.reverse();\n        return children;\n    };\n\n    State.prototype.finish = function() {\n        if (this.rule.postprocess) {\n            this.data = this.rule.postprocess(this.data, this.reference, Parser.fail);\n        }\n    };\n\n\n    function Column(grammar, index) {\n        this.grammar = grammar;\n        this.index = index;\n        this.states = [];\n        this.wants = {}; // states indexed by the non-terminal they expect\n        this.scannable = []; // list of states that expect a token\n        this.completed = {}; // states that are nullable\n    }\n\n\n    Column.prototype.process = function(nextColumn) {\n        var states = this.states;\n        var wants = this.wants;\n        var completed = this.completed;\n\n        for (var w = 0; w < states.length; w++) { // nb. we push() during iteration\n            var state = states[w];\n\n            if (state.isComplete) {\n                state.finish();\n                if (state.data !== Parser.fail) {\n                    // complete\n                    var wantedBy = state.wantedBy;\n                    for (var i = wantedBy.length; i--; ) { // this line is hot\n                        var left = wantedBy[i];\n                        this.complete(left, state);\n                    }\n\n                    // special-case nullables\n                    if (state.reference === this.index) {\n                        // make sure future predictors of this rule get completed.\n                        var exp = state.rule.name;\n                        (this.completed[exp] = this.completed[exp] || []).push(state);\n                    }\n                }\n\n            } else {\n                // queue scannable states\n                var exp = state.rule.symbols[state.dot];\n                if (typeof exp !== 'string') {\n                    this.scannable.push(state);\n                    continue;\n                }\n\n                // predict\n                if (wants[exp]) {\n                    wants[exp].push(state);\n\n                    if (completed.hasOwnProperty(exp)) {\n                        var nulls = completed[exp];\n                        for (var i = 0; i < nulls.length; i++) {\n                            var right = nulls[i];\n                            this.complete(state, right);\n                        }\n                    }\n                } else {\n                    wants[exp] = [state];\n                    this.predict(exp);\n                }\n            }\n        }\n    }\n\n    Column.prototype.predict = function(exp) {\n        var rules = this.grammar.byName[exp] || [];\n\n        for (var i = 0; i < rules.length; i++) {\n            var r = rules[i];\n            var wantedBy = this.wants[exp];\n            var s = new State(r, 0, this.index, wantedBy);\n            this.states.push(s);\n        }\n    }\n\n    Column.prototype.complete = function(left, right) {\n        var copy = left.nextState(right);\n        this.states.push(copy);\n    }\n\n\n    function Grammar(rules, start) {\n        this.rules = rules;\n        this.start = start || this.rules[0].name;\n        var byName = this.byName = {};\n        this.rules.forEach(function(rule) {\n            if (!byName.hasOwnProperty(rule.name)) {\n                byName[rule.name] = [];\n            }\n            byName[rule.name].push(rule);\n        });\n    }\n\n    // So we can allow passing (rules, start) directly to Parser for backwards compatibility\n    Grammar.fromCompiled = function(rules, start) {\n        var lexer = rules.Lexer;\n        if (rules.ParserStart) {\n          start = rules.ParserStart;\n          rules = rules.ParserRules;\n        }\n        var rules = rules.map(function (r) { return (new Rule(r.name, r.symbols, r.postprocess)); });\n        var g = new Grammar(rules, start);\n        g.lexer = lexer; // nb. storing lexer on Grammar is iffy, but unavoidable\n        return g;\n    }\n\n\n    function StreamLexer() {\n      this.reset(\"\");\n    }\n\n    StreamLexer.prototype.reset = function(data, state) {\n        this.buffer = data;\n        this.index = 0;\n        this.line = state ? state.line : 1;\n        this.lastLineBreak = state ? -state.col : 0;\n    }\n\n    StreamLexer.prototype.next = function() {\n        if (this.index < this.buffer.length) {\n            var ch = this.buffer[this.index++];\n            if (ch === '\\n') {\n              this.line += 1;\n              this.lastLineBreak = this.index;\n            }\n            return {value: ch};\n        }\n    }\n\n    StreamLexer.prototype.save = function() {\n      return {\n        line: this.line,\n        col: this.index - this.lastLineBreak,\n      }\n    }\n\n    StreamLexer.prototype.formatError = function(token, message) {\n        // nb. this gets called after consuming the offending token,\n        // so the culprit is index-1\n        var buffer = this.buffer;\n        if (typeof buffer === 'string') {\n            var lines = buffer\n                .split(\"\\n\")\n                .slice(\n                    Math.max(0, this.line - 5), \n                    this.line\n                );\n\n            var nextLineBreak = buffer.indexOf('\\n', this.index);\n            if (nextLineBreak === -1) nextLineBreak = buffer.length;\n            var col = this.index - this.lastLineBreak;\n            var lastLineDigits = String(this.line).length;\n            message += \" at line \" + this.line + \" col \" + col + \":\\n\\n\";\n            message += lines\n                .map(function(line, i) {\n                    return pad(this.line - lines.length + i + 1, lastLineDigits) + \" \" + line;\n                }, this)\n                .join(\"\\n\");\n            message += \"\\n\" + pad(\"\", lastLineDigits + col) + \"^\\n\";\n            return message;\n        } else {\n            return message + \" at index \" + (this.index - 1);\n        }\n\n        function pad(n, length) {\n            var s = String(n);\n            return Array(length - s.length + 1).join(\" \") + s;\n        }\n    }\n\n    function Parser(rules, start, options) {\n        if (rules instanceof Grammar) {\n            var grammar = rules;\n            var options = start;\n        } else {\n            var grammar = Grammar.fromCompiled(rules, start);\n        }\n        this.grammar = grammar;\n\n        // Read options\n        this.options = {\n            keepHistory: false,\n            lexer: grammar.lexer || new StreamLexer,\n        };\n        for (var key in (options || {})) {\n            this.options[key] = options[key];\n        }\n\n        // Setup lexer\n        this.lexer = this.options.lexer;\n        this.lexerState = undefined;\n\n        // Setup a table\n        var column = new Column(grammar, 0);\n        var table = this.table = [column];\n\n        // I could be expecting anything.\n        column.wants[grammar.start] = [];\n        column.predict(grammar.start);\n        // TODO what if start rule is nullable?\n        column.process();\n        this.current = 0; // token index\n    }\n\n    // create a reserved token for indicating a parse fail\n    Parser.fail = {};\n\n    Parser.prototype.feed = function(chunk) {\n        var lexer = this.lexer;\n        lexer.reset(chunk, this.lexerState);\n\n        var token;\n        while (true) {\n            try {\n                token = lexer.next();\n                if (!token) {\n                    break;\n                }\n            } catch (e) {\n                // Create the next column so that the error reporter\n                // can display the correctly predicted states.\n                var nextColumn = new Column(this.grammar, this.current + 1);\n                this.table.push(nextColumn);\n                var err = new Error(this.reportLexerError(e));\n                err.offset = this.current;\n                err.token = e.token;\n                throw err;\n            }\n            // We add new states to table[current+1]\n            var column = this.table[this.current];\n\n            // GC unused states\n            if (!this.options.keepHistory) {\n                delete this.table[this.current - 1];\n            }\n\n            var n = this.current + 1;\n            var nextColumn = new Column(this.grammar, n);\n            this.table.push(nextColumn);\n\n            // Advance all tokens that expect the symbol\n            var literal = token.text !== undefined ? token.text : token.value;\n            var value = lexer.constructor === StreamLexer ? token.value : token;\n            var scannable = column.scannable;\n            for (var w = scannable.length; w--; ) {\n                var state = scannable[w];\n                var expect = state.rule.symbols[state.dot];\n                // Try to consume the token\n                // either regex or literal\n                if (expect.test ? expect.test(value) :\n                    expect.type ? expect.type === token.type\n                                : expect.literal === literal) {\n                    // Add it\n                    var next = state.nextState({data: value, token: token, isToken: true, reference: n - 1});\n                    nextColumn.states.push(next);\n                }\n            }\n\n            // Next, for each of the rules, we either\n            // (a) complete it, and try to see if the reference row expected that\n            //     rule\n            // (b) predict the next nonterminal it expects by adding that\n            //     nonterminal's start state\n            // To prevent duplication, we also keep track of rules we have already\n            // added\n\n            nextColumn.process();\n\n            // If needed, throw an error:\n            if (nextColumn.states.length === 0) {\n                // No states at all! This is not good.\n                var err = new Error(this.reportError(token));\n                err.offset = this.current;\n                err.token = token;\n                throw err;\n            }\n\n            // maybe save lexer state\n            if (this.options.keepHistory) {\n              column.lexerState = lexer.save()\n            }\n\n            this.current++;\n        }\n        if (column) {\n          this.lexerState = lexer.save()\n        }\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n\n        // Allow chaining, for whatever it's worth\n        return this;\n    };\n\n    Parser.prototype.reportLexerError = function(lexerError) {\n        var tokenDisplay, lexerMessage;\n        // Planning to add a token property to moo's thrown error\n        // even on erroring tokens to be used in error display below\n        var token = lexerError.token;\n        if (token) {\n            tokenDisplay = \"input \" + JSON.stringify(token.text[0]) + \" (lexer error)\";\n            lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        } else {\n            tokenDisplay = \"input (lexer error)\";\n            lexerMessage = lexerError.message;\n        }\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportError = function(token) {\n        var tokenDisplay = (token.type ? token.type + \" token: \" : \"\") + JSON.stringify(token.value !== undefined ? token.value : token);\n        var lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportErrorCommon = function(lexerMessage, tokenDisplay) {\n        var lines = [];\n        lines.push(lexerMessage);\n        var lastColumnIndex = this.table.length - 2;\n        var lastColumn = this.table[lastColumnIndex];\n        var expectantStates = lastColumn.states\n            .filter(function(state) {\n                var nextSymbol = state.rule.symbols[state.dot];\n                return nextSymbol && typeof nextSymbol !== \"string\";\n            });\n\n        if (expectantStates.length === 0) {\n            lines.push('Unexpected ' + tokenDisplay + '. I did not expect any more input. Here is the state of my parse table:\\n');\n            this.displayStateStack(lastColumn.states, lines);\n        } else {\n            lines.push('Unexpected ' + tokenDisplay + '. Instead, I was expecting to see one of the following:\\n');\n            // Display a \"state stack\" for each expectant state\n            // - which shows you how this state came to be, step by step.\n            // If there is more than one derivation, we only display the first one.\n            var stateStacks = expectantStates\n                .map(function(state) {\n                    return this.buildFirstStateStack(state, []) || [state];\n                }, this);\n            // Display each state that is expecting a terminal symbol next.\n            stateStacks.forEach(function(stateStack) {\n                var state = stateStack[0];\n                var nextSymbol = state.rule.symbols[state.dot];\n                var symbolDisplay = this.getSymbolDisplay(nextSymbol);\n                lines.push('A ' + symbolDisplay + ' based on:');\n                this.displayStateStack(stateStack, lines);\n            }, this);\n        }\n        lines.push(\"\");\n        return lines.join(\"\\n\");\n    }\n    \n    Parser.prototype.displayStateStack = function(stateStack, lines) {\n        var lastDisplay;\n        var sameDisplayCount = 0;\n        for (var j = 0; j < stateStack.length; j++) {\n            var state = stateStack[j];\n            var display = state.rule.toString(state.dot);\n            if (display === lastDisplay) {\n                sameDisplayCount++;\n            } else {\n                if (sameDisplayCount > 0) {\n                    lines.push('    ^ ' + sameDisplayCount + ' more lines identical to this');\n                }\n                sameDisplayCount = 0;\n                lines.push('    ' + display);\n            }\n            lastDisplay = display;\n        }\n    };\n\n    Parser.prototype.getSymbolDisplay = function(symbol) {\n        return getSymbolLongDisplay(symbol);\n    };\n\n    /*\n    Builds a the first state stack. You can think of a state stack as the call stack\n    of the recursive-descent parser which the Nearley parse algorithm simulates.\n    A state stack is represented as an array of state objects. Within a\n    state stack, the first item of the array will be the starting\n    state, with each successive item in the array going further back into history.\n\n    This function needs to be given a starting state and an empty array representing\n    the visited states, and it returns an single state stack.\n\n    */\n    Parser.prototype.buildFirstStateStack = function(state, visited) {\n        if (visited.indexOf(state) !== -1) {\n            // Found cycle, return null\n            // to eliminate this path from the results, because\n            // we don't know how to display it meaningfully\n            return null;\n        }\n        if (state.wantedBy.length === 0) {\n            return [state];\n        }\n        var prevState = state.wantedBy[0];\n        var childVisited = [state].concat(visited);\n        var childResult = this.buildFirstStateStack(prevState, childVisited);\n        if (childResult === null) {\n            return null;\n        }\n        return [state].concat(childResult);\n    };\n\n    Parser.prototype.save = function() {\n        var column = this.table[this.current];\n        column.lexerState = this.lexerState;\n        return column;\n    };\n\n    Parser.prototype.restore = function(column) {\n        var index = column.index;\n        this.current = index;\n        this.table[index] = column;\n        this.table.splice(index + 1);\n        this.lexerState = column.lexerState;\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n    };\n\n    // nb. deprecated: use save/restore instead!\n    Parser.prototype.rewind = function(index) {\n        if (!this.options.keepHistory) {\n            throw new Error('set option `keepHistory` to enable rewinding')\n        }\n        // nb. recall column (table) indicies fall between token indicies.\n        //        col 0   --   token 0   --   col 1\n        this.restore(this.table[index]);\n    };\n\n    Parser.prototype.finish = function() {\n        // Return the possible parsings\n        var considerations = [];\n        var start = this.grammar.start;\n        var column = this.table[this.table.length - 1]\n        column.states.forEach(function (t) {\n            if (t.rule.name === start\n                    && t.dot === t.rule.symbols.length\n                    && t.reference === 0\n                    && t.data !== Parser.fail) {\n                considerations.push(t);\n            }\n        });\n        return considerations.map(function(c) {return c.data; });\n    };\n\n    function getSymbolLongDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return 'character matching ' + symbol;\n            } else if (symbol.type) {\n                return symbol.type + ' token';\n            } else if (symbol.test) {\n                return 'token matching ' + String(symbol.test);\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    function getSymbolShortDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return symbol.toString();\n            } else if (symbol.type) {\n                return '%' + symbol.type;\n            } else if (symbol.test) {\n                return '<' + String(symbol.test) + '>';\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    return {\n        Parser: Parser,\n        Grammar: Grammar,\n        Rule: Rule,\n    };\n\n}));\n","'use strict';\n\nvar getPathToString = require('./getPathToString.js');\nvar getEachDeep = require('./getEachDeep.js');\nvar getCondenseDeep = require('./getCondenseDeep.js');\nvar getExists = require('./getExists.js');\n\nfunction getFilterDeep(_) {\n  // console.log('getFilterDeep:', _);\n  var eachDeep = getEachDeep(_);\n  var pathToString = getPathToString(_);\n  var condenseDeep = getCondenseDeep(_);\n  var exists = getExists(_);\n\n  function filterDeep(obj, predicate, options) {\n    predicate = _.iteratee(predicate);\n    if (!options) {\n      options = {};\n    } else {\n      options = _.cloneDeep(options);\n      if (options.leafsOnly !== undefined) {\n        options.leavesOnly = options.leafsOnly;\n      }\n    }\n    if (!options.onTrue) {\n      options.onTrue = {};\n    }\n    if (!options.onFalse) {\n      options.onFalse = {};\n    }\n    if (!options.onUndefined) {\n      options.onUndefined = {};\n    }\n    if (options.childrenPath !== undefined) {\n      if (options.onTrue.skipChildren === undefined) {\n        options.onTrue.skipChildren = false;\n      }\n      if (options.onUndefined.skipChildren === undefined) {\n        options.onUndefined.skipChildren = false;\n      }\n      if (options.onFalse.skipChildren === undefined) {\n        options.onFalse.skipChildren = false;\n      }\n\n      if (options.onTrue.cloneDeep === undefined) {\n        options.onTrue.cloneDeep = true;\n      }\n      if (options.onUndefined.cloneDeep === undefined) {\n        options.onUndefined.cloneDeep = true;\n      }\n      if (options.onFalse.cloneDeep === undefined) {\n        options.onFalse.cloneDeep = true;\n      }\n    }\n    options = _.merge(\n      {\n        checkCircular: false,\n        keepCircular: true,\n        //replaceCircularBy: <by>,\n        leavesOnly: options.childrenPath === undefined,\n        condense: true,\n        cloneDeep: _.cloneDeep,\n        pathFormat: 'string',\n        onTrue: { skipChildren: true, cloneDeep: true, keepIfEmpty: true },\n        onUndefined: {\n          skipChildren: false,\n          cloneDeep: false,\n          keepIfEmpty: false,\n        },\n        onFalse: {\n          skipChildren: true,\n          cloneDeep: false,\n          keepIfEmpty: false,\n        },\n      },\n      options\n    );\n\n    var eachDeepOptions = {\n      pathFormat: options.pathFormat,\n      checkCircular: options.checkCircular,\n      childrenPath: options.childrenPath,\n      includeRoot: options.includeRoot,\n      rootIsChildren: options.rootIsChildren,\n      callbackAfterIterate: true,\n      leavesOnly: false,\n    };\n\n    var res = _.isArray(obj) ? [] : _.isObject(obj) ? {} : null;\n    var replies = {};\n    var rootReply;\n    var foundCircular = [];\n    // console.log('filterDeep  eachDeep', eachDeepOptions);\n    eachDeep(\n      obj,\n      function(value, key, parent, context) {\n        delete context['break'];\n        var curPath = pathToString(context.path);\n        if (!context.afterIterate) {\n          if (!context.isCircular) {\n            // console.log(context.path, { leaf: context.isLeaf });\n            var reply =\n              !options.leavesOnly || context.isLeaf\n                ? predicate(value, key, parent, context)\n                : undefined;\n\n            if (!_.isObject(reply)) {\n              if (reply === undefined) {\n                reply = _.clone(options.onUndefined);\n              } else if (reply) {\n                reply = _.clone(options.onTrue);\n              } else {\n                reply = _.clone(options.onFalse);\n              }\n            }\n            if (reply.empty === undefined) {\n              reply.empty = true;\n            }\n            // console.log(context.path + '?', reply);\n            if (curPath !== undefined) {\n              replies[curPath] = reply;\n\n              // _.eachRight(context.parents, function(parent) {\n              //   var p = pathToString(parent.path);\n              //   if (p !== undefined && !replies[p]) {\n              //     replies[p] = _.clone(options.onUndefined);\n              //     replies[p].empty = reply.empty;\n              //   } else {\n              //     return false;\n              //   }\n              // });\n\n              if (!rootReply) {\n                rootReply = {\n                  skipChildren: false,\n                  cloneDeep: false,\n                  keepIfEmpty: false,\n                  empty: reply.empty,\n                };\n              }\n            } else {\n              rootReply = reply;\n              // console.log('root reply', reply);\n            }\n            // console.log('', replies);\n            if (reply.keepIfEmpty || !reply.skipChildren) {\n              if (options.cloneDeep && reply.cloneDeep) {\n                if (context.path !== undefined) {\n                  _.set(res, context.path, options.cloneDeep(value));\n                } else {\n                  res = options.cloneDeep(value);\n                }\n              } else {\n                if (context.path !== undefined) {\n                  _.set(\n                    res,\n                    context.path,\n                    _.isArray(value) ? [] : _.isPlainObject(value) ? {} : value\n                  );\n                } else {\n                  res = _.isArray(value)\n                    ? []\n                    : _.isPlainObject(value)\n                    ? {}\n                    : value;\n                }\n              }\n            }\n            return !reply.skipChildren;\n          } else {\n            // console.log('fc: ', context.path);\n            _.unset(res, context.path);\n\n            if (options.keepCircular) {\n              foundCircular.push([context.path, context.circularParent.path]);\n            }\n            return false;\n          }\n        } else if (context.afterIterate && !context.isCircular) {\n          // console.log('ai: ', context.path);\n          if (\n            curPath === undefined &&\n            rootReply.empty &&\n            !rootReply.keepIfEmpty\n          ) {\n            res = null;\n          } else if (\n            curPath !== undefined &&\n            replies[curPath].empty &&\n            !replies[curPath].keepIfEmpty\n          ) {\n            // console.log('remove ' + context.path);\n            _.unset(res, context.path);\n          } else {\n            _.eachRight(context.parents, function(parent) {\n              var p = pathToString(parent.path);\n              if (p !== undefined && replies[p].empty) {\n                replies[p].empty = false;\n              } else {\n                return false;\n              }\n            });\n            rootReply.empty = false;\n          }\n          // console.log('', replies);\n          return;\n        }\n      },\n      eachDeepOptions\n    );\n    if (rootReply && rootReply.empty && !rootReply.keepIfEmpty) {\n      res = null;\n    }\n    _.each(foundCircular, function(c) {\n      var cv;\n      var found = c[1] === undefined || exists(res, c[1]);\n      if (!found) { return; }\n      // console.log('circular: ', c[0], c[1]);\n      if (_.has(options, 'replaceCircularBy')) {\n        cv = options.replaceCircularBy;\n      } else {\n        cv = c[1] !== undefined ? _.get(res, c[1]) : res;\n      }\n      _.set(res, c[0], cv);\n    });\n    if (options.condense) {\n      //console.log('filterDeep  condenseDeep');\n      res = condenseDeep(res, { checkCircular: options.checkCircular });\n    }\n    if (_.isArray(res) && !res.length && !eachDeepOptions.includeRoot)\n      { return null; }\n    return res;\n  }\n  return filterDeep;\n}\n\nmodule.exports = getFilterDeep;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\n\nvar rxArrIndex = /\\D/;\nvar rxVarName = /^[a-zA-Z_$]+([\\w_$]*)$/;\nvar rxQuot = /\"/g;\n\nfunction concatPaths() {\n  var paths = [], len = arguments.length;\n  while ( len-- ) paths[ len ] = arguments[ len ];\n\n  return paths.reduce(\n    function (acc, p) { return acc ? (!p || p.startsWith('[') ? (\"\" + acc + p) : (acc + \".\" + p)) : p; },\n    ''\n  );\n}\n\nfunction getPathToString(_) {\n  function pathToString(path) {\n    var prefixes = [], len = arguments.length - 1;\n    while ( len-- > 0 ) prefixes[ len ] = arguments[ len + 1 ];\n\n    if (_.isString(path)) { return concatPaths.apply(void 0, prefixes.concat( [path] )); }\n    if (!_.isArray(path)) { return undefined; }\n    prefixes = concatPaths.apply(void 0, prefixes);\n    return path.reduce(function (acc, value) {\n      var type = typeof value;\n      if (type === 'number') {\n        if (value < 0 || value % 1 !== 0) {\n          return (acc + \"[\\\"\" + value + \"\\\"]\");\n        } else {\n          return (acc + \"[\" + value + \"]\");\n        }\n      } else if (type !== 'string') {\n        return (acc + \"[\\\"\" + value + \"\\\"]\");\n      } else if (!value) {\n        return (acc + \"[\\\"\\\"]\");\n      }\n      if (!rxArrIndex.test(value)) {\n        return (acc + \"[\" + value + \"]\");\n      }\n      if (rxVarName.test(value)) {\n        if (acc) {\n          return (acc + \".\" + value);\n        } else {\n          return (\"\" + acc + value);\n        }\n      }\n      return (acc + \"[\\\"\" + (value.replace(rxQuot, '\\\\\"')) + \"\\\"]\");\n    }, prefixes);\n  }\n  return pathToString;\n}\n\ngetPathToString.notChainable = true;\n\nmodule.exports = getPathToString;\n","'use strict';\n\nvar getIterate = require('./private/getIterate.js');\n\nfunction getEachDeep(_) {\n  var iterate = getIterate(_);\n\n  function eachDeep(obj, callback, options) {\n    if (callback === undefined) { callback = _.identity; }\n    options = _.merge(\n      {\n        includeRoot: !_.isArray(obj),\n        pathFormat: 'string',\n        checkCircular: false,\n        leavesOnly: false,\n      },\n      options || {}\n    );\n    if (options.childrenPath !== undefined) {\n      if (!options.includeRoot && options.rootIsChildren === undefined) {\n        options.rootIsChildren = _.isArray(obj);\n      }\n      if (\n        !_.isString(options.childrenPath) &&\n        !_.isArray(options.childrenPath)\n      ) {\n        throw Error('childrenPath can be string or array');\n      } else {\n        if (_.isString(options.childrenPath)) {\n          options.childrenPath = [options.childrenPath];\n        }\n        options.strChildrenPath = options.childrenPath;\n        options.childrenPath = [];\n        for (var i = options.strChildrenPath.length - 1; i >= 0; i--) {\n          options.childrenPath[i] = _.toPath(options.strChildrenPath[i]);\n        }\n      }\n    }\n    iterate({\n      value: obj,\n      callback: callback,\n      options: options,\n      obj: obj,\n    });\n    return obj;\n  }\n  return eachDeep;\n}\n\nmodule.exports = getEachDeep;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js!./common.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js!./common.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js!./common.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.split('').indexOf(options.arrayFormatSeparator) > -1;\n\t\t\t\tconst newValue = isArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(input, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof input !== 'string') {\n\t\treturn ret;\n\t}\n\n\tinput = input.trim().replace(/^[?#&]/, '');\n\n\tif (!input) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of input.split('&')) {\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (input, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url, hash] = splitOnFirst(input, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url.split('?')[0] || '',\n\t\t\tquery: parse(extract(input), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (input, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(input.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(input.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, input.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(input.url);\n\tif (input.fragmentIdentifier) {\n\t\thash = `#${encode(input.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n","'use strict';\n\nvar getEachDeep = require('./getEachDeep.js');\n\nfunction getPaths(_) {\n  var eachDeep = getEachDeep(_);\n  function paths(obj, options) {\n    if (options && options.leafsOnly !== undefined) {\n      options.leavesOnly = options.leafsOnly;\n    }\n    options = _.merge(\n      {\n        checkCircular: false,\n        includeCircularPath: true,\n        leavesOnly: !options || options.childrenPath === undefined,\n        pathFormat: 'string',\n      },\n      options || {}\n    );\n    var eachDeepOptions = {\n      pathFormat: options.pathFormat,\n      checkCircular: options.checkCircular,\n      includeRoot: options.includeRoot,\n      childrenPath: options.childrenPath,\n      rootIsChildren: options.rootIsChildren,\n      leavesOnly: options.leavesOnly,\n    };\n    var res = [];\n    eachDeep(\n      obj,\n      function(value, key, parent, context) {\n        if (!context.isCircular || options.includeCircularPath) {\n          if (context.path !== undefined) {\n            res.push(context.path);\n          }\n        }\n      },\n      eachDeepOptions\n    );\n    return res;\n  }\n  return paths;\n}\n\nmodule.exports = getPaths;\n","'use strict';\n\nvar getFilterDeep = require('./getFilterDeep.js');\nvar getPathMatches = require('./getPathMatches.js');\n\nfunction getOmitDeep(_) {\n  var pathMatches = getPathMatches(_);\n  var filterDeep = getFilterDeep(_);\n\n  function omitDeep(obj, paths, options) {\n    options = _.merge(\n      {\n        invert: false,\n      },\n      options || {}\n    );\n    var isOmit = !options.invert;\n    options = _.merge(\n      {\n        onMatch: {\n          cloneDeep: false,\n          skipChildren: false,\n          keepIfEmpty: !isOmit,\n        },\n        onNotMatch: {\n          cloneDeep: false,\n          skipChildren: false,\n          keepIfEmpty: isOmit,\n        },\n      },\n      options\n    );\n    options.leavesOnly = false;\n    options.childrenPath = undefined;\n    options.includeRoot = undefined;\n    options.pathFormat = 'array';\n    options.onTrue = options.invert ? options.onMatch : options.onNotMatch;\n    options.onFalse = options.invert ? options.onNotMatch : options.onMatch;\n\n    var test = function(value, key, parent, context) {\n      if (pathMatches(context.path, paths) !== false) {\n        return options.invert;\n      } else {\n        return !options.invert;\n      }\n    };\n    return filterDeep(obj, test, options);\n  }\n  return omitDeep;\n}\n\nmodule.exports = getOmitDeep;\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\n\nvar getPathToString = require('../getPathToString.js');\nvar getHasChildren = require('./getHasChildren.js');\n\nfunction getIterate(_) {\n  var pathToString = getPathToString(_);\n  var hasChildren = getHasChildren(_);\n  var _each = _.each || _.forArray;\n  function iterate(ref) {\n    var value = ref.value;\n    var callback = ref.callback;\n    var options = ref.options;\n    var key = ref.key;\n    var path = ref.path;\n    var strPath = ref.strPath;\n    var depth = ref.depth; if ( depth === void 0 ) depth = 0;\n    var parent = ref.parent;\n    var parents = ref.parents; if ( parents === void 0 ) parents = [];\n    var obj = ref.obj;\n    var childrenPath = ref.childrenPath;\n    var strChildrenPath = ref.strChildrenPath;\n\n    if (options['break']) { return; }\n    var currentObj = {\n      value: value,\n      key: key,\n      path:\n        options.pathFormat == 'array' ? path : strPath || pathToString(path),\n      parent: parent,\n    };\n\n    var currentParents = parents.concat( [currentObj]);\n    var isCircular;\n    var circularParentIndex = undefined;\n    var circularParent = undefined;\n    if (options.checkCircular) {\n      if (_.isObject(value) && !_.isEmpty(value)) {\n        circularParentIndex = -1;\n        var i = parents.length;\n        while (i--) {\n          if (parents[i].value === value) {\n            circularParentIndex = i;\n            break;\n          }\n        }\n\n        circularParent = parents[circularParentIndex] || null;\n      } else {\n        circularParentIndex = -1;\n        circularParent = null;\n      }\n      isCircular = circularParentIndex !== -1;\n    }\n    var isLeaf =\n      !_.isObject(value) ||\n      _.isEmpty(value) ||\n      isCircular ||\n      (options.childrenPath !== undefined &&\n        !hasChildren(value, options.childrenPath));\n    var needCallback =\n      (depth || options.includeRoot) && (!options.leavesOnly || isLeaf);\n\n    if (needCallback) {\n      var context = {\n        path: currentObj.path,\n        parent: parent,\n        parents: parents,\n        obj: obj,\n        depth: depth,\n        isCircular: isCircular,\n        circularParent: circularParent,\n        circularParentIndex: circularParentIndex,\n        isLeaf: isLeaf,\n        \"break\": function () {\n          options['break'] = true;\n          return false;\n        },\n      };\n      if (options.childrenPath !== undefined) {\n        currentObj.childrenPath =\n          options.pathFormat == 'array' ? childrenPath : strChildrenPath;\n        context.childrenPath = currentObj.childrenPath;\n      }\n      try {\n        var res = callback(value, key, parent && parent.value, context);\n      } catch (err) {\n        if (err.message) {\n          err.message += \"\\ncallback failed before deep iterate at:\\n\" + (context.path);\n        }\n        throw err;\n      }\n    }\n    if (\n      !options['break'] &&\n      res !== false &&\n      !isCircular &&\n      _.isObject(value)\n    ) {\n      if (options.childrenPath !== undefined) {\n        function forChildren(children, cp, scp) {\n          if (children && _.isObject(children)) {\n            _.forOwn(children, function(childValue, childKey) {\n              var childPath = (path || []).concat( (cp || []), [childKey]);\n              var strChildPath =\n                options.pathFormat == 'array'\n                  ? pathToString([childKey], strPath || '', scp || '')\n                  : undefined;\n              iterate({\n                value: childValue,\n                callback: callback,\n                options: options,\n                key: childKey,\n                path: childPath,\n                strPath: strChildPath,\n                depth: depth + 1,\n                parent: currentObj,\n                parents: currentParents,\n                obj: obj,\n                childrenPath: cp,\n                strChildrenPath: scp,\n              });\n            });\n          }\n        }\n\n        if (!depth && options.rootIsChildren) {\n          if (_.isArray(value)) {\n            forChildren(value);\n          } else {\n            _.forOwn(value, function(childValue, childKey) {\n              iterate({\n                value: childValue,\n                callback: callback,\n                options: options,\n                key: childKey,\n                path: [childKey],\n                strPath: pathToString([childKey]),\n                depth: depth + 1,\n                parent: currentObj,\n                parents: currentParents,\n                obj: obj,\n              });\n            });\n          }\n        } else {\n          _each(options.childrenPath, function(cp, i) {\n            var children = _.get(value, cp);\n            forChildren(children, cp, options.strChildrenPath[i]);\n          });\n        }\n      } else {\n        _.forOwn(value, function(childValue, childKey) {\n          if (_.isArray(value)) {\n            if (childValue === undefined && !(childKey in value)) {\n              return; //empty slot\n            }\n          }\n\n          var childPath = (path || []).concat( [childKey]);\n          var strChildPath =\n            options.pathFormat == 'array'\n              ? pathToString([childKey], strPath || '')\n              : undefined;\n\n          iterate({\n            value: childValue,\n            callback: callback,\n            options: options,\n            key: childKey,\n            path: childPath,\n            strPath: strChildPath,\n            depth: depth + 1,\n            parent: currentObj,\n            parents: currentParents,\n            obj: obj,\n          });\n        });\n      }\n    }\n    if (options.callbackAfterIterate && needCallback) {\n      context.afterIterate = true;\n      try {\n        callback(value, key, parent && parent.value, context);\n      } catch (err) {\n        if (err.message) {\n          err.message += \"\\ncallback failed after deep iterate at:\\n\" + (context.path);\n        }\n        throw err;\n      }\n    }\n  }\n  return iterate;\n}\n\nmodule.exports = getIterate;\n","'use strict';\n\nfunction getHasChildren(_) {\n  function hasChildren(obj, childrenPath) {\n    return _.some(childrenPath, function (cp) {\n      var children = _.get(obj, cp);\n      return !_.isEmpty(children);\n    });\n  }\n  return hasChildren;\n}\n\nmodule.exports = getHasChildren;\n","'use strict';\n\nvar getCondense = require('./getCondense.js');\nvar getEachDeep = require('./getEachDeep.js');\n\nfunction getCondenseDeep(_) {\n  var eachDeep = getEachDeep(_);\n  var condense = getCondense();\n  var _each = _.each || _.forArray;\n  function condenseDeep(obj, options) {\n    options = _.merge(\n      {\n        checkCircular: false,\n      },\n      options || {}\n    );\n    var eachDeepOptions = {\n      checkCircular: options.checkCircular,\n    };\n    var arrays = [];\n    //console.log('condenseDeep  eachDeep');\n    eachDeep(\n      obj,\n      function(value, key, parent, context) {\n        if (!context.isCircular && _.isArray(value)) { arrays.push(value); }\n      },\n      eachDeepOptions\n    );\n    if (_.isArray(obj)) { arrays.push(obj); }\n    _each(arrays, condense);\n    return obj;\n  }\n  return condenseDeep;\n}\n\nmodule.exports = getCondenseDeep;\n","'use strict';\n\nfunction getCondense(_) {\n  function condense(arr) {\n    var indexes = [];\n    for (var i = 0; i < arr.length; i++) {\n      if (!(i in arr)) {\n        indexes.push(i);\n      }\n    }\n    var length = indexes.length;\n\n    while (length--) {\n      arr.splice(indexes[length], 1);\n    }\n    return arr;\n  }\n  return condense;\n}\n\nmodule.exports = getCondense;\n","'use strict';\n\nfunction getExists(_) {\n  function exists(obj, path) {\n    path = _.isArray(path) ? _.clone(path) : _.toPath(path);\n    var key = path.pop();\n    var parent = path.length ? _.get(obj, path) : obj;\n    return parent !== undefined && key in parent;\n  }\n  return exists;\n}\n\ngetExists.notChainable = true;\n\nmodule.exports = getExists;\n","'use strict';\n\nvar getPathToString = require('./getPathToString.js');\n\nfunction getPathMatches(_) {\n  var pathToString = getPathToString(_);\n  function pathMatches(path, paths) {\n    var pathString;\n    var pathArray;\n    if (_.isString(path)) {\n      pathString = path;\n    } else {\n      pathArray = path;\n    }\n    if (!_.isArray(paths)) {\n      paths = [paths];\n    } else {\n      paths = _.cloneDeep(paths);\n    }\n    for (var i = 0; i < paths.length; i++) {\n      if (_.isString(paths[i])) {\n        paths[i] = _.toPath(paths[i]);\n      }\n      if (_.isArray(paths[i])) {\n        if (pathArray === undefined) {\n          pathArray = _.toPath(pathString);\n        }\n        if (\n          pathArray.length >= paths[i].length &&\n          _.isEqual(_.takeRight(pathArray, paths[i].length), paths[i])\n        ) {\n          // console.log('path matched');\n          return paths[i];\n        }\n      } else if (paths[i] instanceof RegExp) {\n        if (pathString === undefined) {\n          pathString = pathToString(path);\n        }\n        if (paths[i].test(pathString)) {\n          // console.log('regex matched', paths[i]);\n          return paths[i];\n        }\n      } else {\n        throw new Error(\n          'To match path use only string/regex or array of them.'\n        );\n      }\n    }\n    // console.log('matched nothing');\n    return false;\n  }\n  return pathMatches;\n}\n\ngetPathMatches.notChainable = true;\n\nmodule.exports = getPathMatches;\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"pre.gf-formatted-error,pre.gf-formatted-warning{background:transparent;border:none;padding-bottom:0;color:#ff6060}pre.gf-formatted-warning{color:#f79520}\\n\", \"\",{\"version\":3,\"sources\":[\"common.css\"],\"names\":[],\"mappings\":\"AAAA,gDAAgD,sBAAsB,CAAC,WAAW,CAAC,gBAAgB,CAAC,aAAa,CAAC,yBAAyB,aAAa\",\"file\":\"common.css\",\"sourcesContent\":[\"pre.gf-formatted-error,pre.gf-formatted-warning{background:transparent;border:none;padding-bottom:0;color:#ff6060}pre.gf-formatted-warning{color:#f79520}\\n\"]}]);\n\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js!./query_editor.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js!./query_editor.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js!./query_editor.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \".min-width-10{min-width:10rem}.min-width-12{min-width:12rem}.min-width-20{min-width:20rem}.gf-form-select-wrapper select.gf-form-input{height:2.64rem}.gf-form-select-wrapper--caret-indent.gf-form-select-wrapper::after{right:0.775rem}.gf-tabs-cognite.active:before,.gf-tabs-cognite.active:focus:before,.gf-tabs-cognite.active:hover:before{background-image:linear-gradient(90deg, #33b5e5 0, #00b3ff 99%, #1b1b1b)}input[type='checkbox']{margin:4px}.custom-query input{font-family:monospace}pre code{line-height:2}.cognite-timeseries-list-checkbox{margin-right:10px}.gf-dropdown-wrapper{min-width:200px}\\n\", \"\",{\"version\":3,\"sources\":[\"query_editor.css\"],\"names\":[],\"mappings\":\"AAAA,cAAc,eAAe,CAAC,cAAc,eAAe,CAAC,cAAc,eAAe,CAAC,6CAA6C,cAAc,CAAC,oEAAoE,cAAc,CAAC,yGAAyG,wEAAwE,CAAC,uBAAuB,UAAU,CAAC,oBAAoB,qBAAqB,CAAC,SAAS,aAAa,CAAC,kCAAkC,iBAAiB,CAAC,qBAAqB,eAAe\",\"file\":\"query_editor.css\",\"sourcesContent\":[\".min-width-10{min-width:10rem}.min-width-12{min-width:12rem}.min-width-20{min-width:20rem}.gf-form-select-wrapper select.gf-form-input{height:2.64rem}.gf-form-select-wrapper--caret-indent.gf-form-select-wrapper::after{right:0.775rem}.gf-tabs-cognite.active:before,.gf-tabs-cognite.active:focus:before,.gf-tabs-cognite.active:hover:before{background-image:linear-gradient(90deg, #33b5e5 0, #00b3ff 99%, #1b1b1b)}input[type='checkbox']{margin:4px}.custom-query input{font-family:monospace}pre code{line-height:2}.cognite-timeseries-list-checkbox{margin-right:10px}.gf-dropdown-wrapper{min-width:200px}\\n\"]}]);\n\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// eslint-disable-next-line max-classes-per-file\nimport { DataQueryRequest, TimeSeries, DataQuery, DataSourceJsonData } from '@grafana/data';\nimport { Datapoints, Items, IdEither, Limit } from './cdf/types';\n\nexport enum Tab {\n  Timeseries = 'Timeseries',\n  Asset = 'Asset',\n  Custom = 'Custom',\n}\n\nconst defaultAssetQuery: AssetQuery = {\n  includeSubtrees: false,\n  target: '',\n};\n\nexport const defaultQuery: Partial<CogniteQuery> = {\n  target: '',\n  aggregation: 'average',\n  granularity: '',\n  label: '',\n  tab: Tab.Timeseries,\n  expr: '',\n  assetQuery: defaultAssetQuery,\n};\n\n/**\n * These are options configured for each DataSource instance\n */\n\nexport interface CogniteDataSourceOptions extends DataSourceJsonData {\n  cogniteApiUrl?: string;\n  cogniteProject: string;\n  oauthPassThru?: boolean;\n  featureFlags: { [s: string]: boolean };\n}\n\nexport interface CogniteSecureJsonData {\n  cogniteDataPlatformApiKey?: string;\n}\n\n/**\n * Value that is used in the backend, but never sent over HTTP to the frontend\n */\nexport function isError(maybeError: DataQueryError | any): maybeError is DataQueryError {\n  return (<DataQueryError>maybeError).error !== undefined;\n}\n\nexport type QueryResponse = DataResponse<TimeSeries[]>;\n\nexport interface MetricDescription {\n  readonly text: string;\n  readonly value: number | string;\n}\n\nexport interface AssetQuery {\n  target: string;\n  includeSubtrees: boolean;\n}\n\nexport type CogniteQuery = CogniteQueryBase & CogniteTargetObj;\n\nexport interface CogniteQueryBase extends DataQuery {\n  aggregation: string;\n  granularity: string;\n  error: string;\n  label: string;\n  tab: Tab;\n  assetQuery: AssetQuery;\n  expr: string;\n  warning: string;\n}\n\nexport type CogniteTargetObj =\n  | {\n      target?: number;\n      targetRefType?: 'id';\n    }\n  | {\n      target?: string;\n      targetRefType?: 'externalId';\n    };\n\nexport type QueryTarget = CogniteQuery;\n\nexport type QueryOptions = DataQueryRequest<CogniteQuery>;\n\nexport type Tuple<T> = [T, T];\n\n/**\n * Comes from grafana, could be imported in future releases hopefully\n */\nexport interface AppEvent<T> {\n  readonly name: string;\n  payload?: T;\n}\n\nexport enum HttpMethod {\n  POST = 'POST',\n  GET = 'GET',\n  PATCH = 'PATCH',\n  DELETE = 'DELETE',\n}\n\nexport interface DataSourceRequestOptions {\n  url: string;\n  method: HttpMethod;\n  retry?: number;\n  requestId?: string;\n  headers?: { [s: string]: string };\n  silent?: boolean;\n  data?: any;\n}\n\nexport type SuccessResponse = {\n  metadata: ResponseMetadata;\n  result: DataQueryRequestResponse;\n};\n\nexport type FailResponse = {\n  metadata: ResponseMetadata;\n  error: any;\n};\n\nexport abstract class Result<T, E> {\n  abstract isOk: boolean;\n  abstract isErr: boolean;\n}\nexport class Ok<T, E> implements Result<T, E> {\n  value: T;\n\n  constructor(v: T) {\n    this.value = v;\n  }\n\n  isOk: boolean = true;\n  isErr: boolean = false;\n}\n\nexport class Err<T, E> implements Result<T, E> {\n  error: E;\n\n  constructor(error: E) {\n    this.error = error;\n  }\n\n  isOk: boolean = false;\n  isErr: boolean = true;\n}\n\nexport type Responses<T, U> = {\n  succeded: T[];\n  failed: U[];\n};\n\nexport interface DataQueryRequestResponse extends DataResponse<Datapoints> {\n  config: {\n    data: {\n      aggregates: string;\n      limit: number;\n    };\n  };\n}\n\nexport interface RequestParams<DataType = any> {\n  path: string;\n  data: DataType;\n  method: HttpMethod;\n  params?: { [s: string]: any };\n  requestId?: string;\n  cacheTime?: string;\n}\n\nexport type DataQueryError = {\n  error: {\n    cancelled?: boolean;\n    data: {\n      error?: {\n        message: string;\n        notFound?: string[];\n      };\n    };\n    status: number;\n  };\n};\n\nexport type QueriesData = {\n  items: DataQueryRequestItem[];\n  target: QueryTarget;\n}[];\n\nexport type ResponseMetadata = { labels: string[]; target: QueryTarget };\n\nexport type DataQueryRequestItem = {\n  expression?: string;\n  start?: string | number;\n  end?: string | number;\n  limit?: number;\n  granularity?: string;\n  aggregates?: string[];\n  id?: number;\n  externalId?: string;\n};\n\nexport type Aggregates = Pick<CDFDataQueryRequest, 'aggregates'>;\nexport type Granularity = Pick<CDFDataQueryRequest, 'granularity'>;\n\nexport interface CDFDataQueryRequest {\n  items: DataQueryRequestItem[];\n  start?: string | number;\n  end?: string | number;\n  limit?: number;\n  aggregates?: string[];\n  granularity?: string;\n}\n\nexport interface CogniteAnnotationQuery extends DataQuery {\n  query?: string;\n  error?: string;\n}\n\nexport interface DataResponse<T> {\n  data: T;\n}\n\nexport type CursorResponse<T> = DataResponse<Items<T> & { nextCursor?: string }>;\n\nexport type Response<T = any> = DataResponse<{\n  items: T[];\n}>;\n\nexport type TimeseriesFilterQuery = {\n  filter?: {\n    description?: string;\n    assetSubtreeIds?: IdEither[];\n    assetIds?: string[];\n    [s: string]: any; // so we auto-support next features\n  };\n  cursor?: string;\n} & Limit;\n\nexport interface VariableQueryData {\n  query: string;\n  error?: string;\n}\n\nexport interface VariableQueryProps {\n  query: string;\n  onChange: (query: VariableQueryData, description: string) => void;\n  datasource: any;\n  templateSrv: any;\n}\n\nexport interface QueryRequestError {\n  refId: string;\n  error: string;\n}\n\nexport interface QueryDatapointsWarning {\n  refId: string;\n  warning: string;\n}\n","import { STSClientFilter } from './ts';\n\nexport const FilterTypes = {\n  RegexNotEquals: '!~' as FilterType,\n  RegexEquals: '=~' as FilterType,\n  NotEquals: '!=' as FilterType,\n  Equals: '=' as FilterType,\n};\nexport type FilterType = '!~' | '=~' | '!=' | '=';\n\nexport enum QueryParserTypes {\n  assets = 'assets',\n  events = 'events',\n}\n\nexport interface QueryParserType {\n  type: QueryParserTypes;\n}\n\nexport interface QueryParserResponse extends QueryParserType {\n  query: QueryCondition[];\n}\n\nexport type ParsedFilter = STSClientFilter;\n\nexport interface QueryCondition {\n  [key: string]: any;\n}\n\nexport interface ParserResponse extends QueryParserType {\n  params: QueryCondition;\n  filters: ParsedFilter[];\n}\n","import { isNil, omitBy, get } from 'lodash';\nimport { stringify } from 'query-string';\nimport ms from 'ms';\nimport { QueryOptions, QueryTarget } from './types';\nimport { FilterTypes, ParsedFilter } from './parser/types';\n\nexport function getQueryString(obj: any) {\n  return stringify(omitBy(obj, isNil));\n}\n\nexport function toGranularityWithLowerBound(milliseconds: number, lowerBound = 1000): string {\n  return ms(Math.max(milliseconds, lowerBound));\n}\n\n// used for generating the options.requestId\nexport function getRequestId(options: QueryOptions, target: QueryTarget) {\n  return `${options.dashboardId}_${options.panelId}_${target.refId}`;\n}\n\nexport const applyFilters = <T>(objs: T[], filters: ParsedFilter[]): T[] => {\n  if (!filters.length) {\n    return objs;\n  }\n\n  return objs.filter((obj) => filters.every((filter) => checkFilter(obj, filter)));\n};\n\nexport const checkFilter = <T>(obj: T, { path, filter, value }: ParsedFilter): boolean => {\n  const valueToFilter = get(obj, path, null);\n  const regex = new RegExp(`^${value}$`);\n\n  switch (filter) {\n    case FilterTypes.RegexEquals:\n      return regex.test(valueToFilter);\n    case FilterTypes.RegexNotEquals:\n      return !regex.test(valueToFilter);\n    case FilterTypes.NotEquals:\n      return value !== valueToFilter;\n    default:\n      return false;\n  }\n};\n","// Generated automatically by nearley, version 2.19.7\n// http://github.com/Hardmath123/nearley\n// Bypasses TS6133. Allow declared but unused functions.\n// @ts-ignore\n\n/* eslint-disable */\nfunction id(d: any[]): any { return d[0]; }\n\nconst formatQuery = ([type, query]) => ({type, query});\nconst emptyObject = () => ({});\nconst emptyArray = () => ([]);\n\n\nconst join = ([d]) => joinArr(d);\nconst joinArr = (d) => d.join('');\nconst extractPair = d => {\n  return {\n\t  path: d[0],\n\t  filter: d[1],\n\t  value: d[2]\n  }\n}\nconst extractConditionPair = ([path, filter, value]) => {\n  return path ? {path, filter, value} : {}\n}\n\nconst extract = (extractor, d) => {\n  let output = {...extractor(d[1])};\n\n  for (let i in d[2]) {\n    output = {...output, ...extractor(d[2][i][2])};\n  }\n\n  return output;\n}\nconst extractConditionToArray = d => {\n  if(!d.length) return [];\n  const output = [extractPair(d[1])];\n\n  for (let i in d[2]) {\n    output.push(extractPair(d[2][i][1]))\n  }\n\n  return output\n}\nconst extractObject = d => {\n  let output = [extractPair(d[1])];\n\n  for (let i in d[2]) {\n    output.push(extractPair(d[2][i][1]));\n  }\n\n  return output;\n}\nconst extractArray = d => {\n  const output = [d[1]];\n\n  for (let i in d[2]) {\n    output.push(d[2][i][1]);\n  }\n\n  return output;\n}\nconst extractOperationsArray = d => {\n  const output = Array.isArray(d[0]) ? [...d[0]] : [d[0]];\n\n  for (let i in d[1]) {\n    const flatten = [].concat(...d[1][i])\n    output.push(...flatten);\n  }\n\n  return output;\n}\nconst extractCommaSeparatedArray = d => {\n  const output = [d[0]];\n\n  for (let i in d[1]) {\n    output.push(d[1][i][1]);\n  }\n  return output;\n}\nconst extractMapFuncArgs = d => {\n  return d.filter(d => d !== ',')\n}\nconst extract2Elements = d => {\n\treturn [d[0], d[2]]\n}\nconst extractOperator = ([s, operator, S]) => {\n  return { operator }\n}\nconst extractNumber = ([constant]) => {\n  return { constant }\n}\nconst extractPI = d => {\n  return { constant: d[0] + d[2] }\n}\nconst extractFunction = ([func, br, args, BR]) => {\n  if (args && args.length) {\n    return { func: func || '', args }\n  }\n  return { func }\n}\nconst extractUnaryOperator = ([operator, element]) => operator ? [operator[0], element] : element;\n\ninterface NearleyToken {  value: any;\n  [key: string]: any;\n};\n\ninterface NearleyLexer {\n  reset: (chunk: string, info: any) => void;\n  next: () => NearleyToken | undefined;\n  save: () => any;\n  formatError: (token: NearleyToken) => string;\n  has: (tokenType: string) => boolean;\n};\n\ninterface NearleyRule {\n  name: string;\n  symbols: NearleySymbol[];\n  postprocess?: (d: any[], loc?: number, reject?: {}) => any;\n};\n\ntype NearleySymbol = string | { literal: any } | { test: (token: any) => boolean };\n\ninterface Grammar {\n  Lexer: NearleyLexer | undefined;\n  ParserRules: NearleyRule[];\n  ParserStart: string;\n};\n\nconst grammar: Grammar = {\n  Lexer: undefined,\n  ParserRules: [\n    {\"name\": \"unsigned_int$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"unsigned_int$ebnf$1\", \"symbols\": [\"unsigned_int$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"unsigned_int\", \"symbols\": [\"unsigned_int$ebnf$1\"], \"postprocess\":\n        function(d) {\n            return parseInt(d[0].join(\"\"));\n        }\n        },\n    {\"name\": \"int$ebnf$1$subexpression$1\", \"symbols\": [{\"literal\":\"-\"}]},\n    {\"name\": \"int$ebnf$1$subexpression$1\", \"symbols\": [{\"literal\":\"+\"}]},\n    {\"name\": \"int$ebnf$1\", \"symbols\": [\"int$ebnf$1$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"int$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"int$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"int$ebnf$2\", \"symbols\": [\"int$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"int\", \"symbols\": [\"int$ebnf$1\", \"int$ebnf$2\"], \"postprocess\":\n        function(d) {\n            if (d[0]) {\n                return parseInt(d[0][0]+d[1].join(\"\"));\n            } else {\n                return parseInt(d[1].join(\"\"));\n            }\n        }\n        },\n    {\"name\": \"unsigned_decimal$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"unsigned_decimal$ebnf$1\", \"symbols\": [\"unsigned_decimal$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\", \"symbols\": [\"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"unsigned_decimal$ebnf$2$subexpression$1\", \"symbols\": [{\"literal\":\".\"}, \"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\"]},\n    {\"name\": \"unsigned_decimal$ebnf$2\", \"symbols\": [\"unsigned_decimal$ebnf$2$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"unsigned_decimal$ebnf$2\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"unsigned_decimal\", \"symbols\": [\"unsigned_decimal$ebnf$1\", \"unsigned_decimal$ebnf$2\"], \"postprocess\":\n        function(d) {\n            return parseFloat(\n                d[0].join(\"\") +\n                (d[1] ? \".\"+d[1][1].join(\"\") : \"\")\n            );\n        }\n        },\n    {\"name\": \"decimal$ebnf$1\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"decimal$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"decimal$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"decimal$ebnf$2\", \"symbols\": [\"decimal$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"decimal$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"decimal$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [\"decimal$ebnf$3$subexpression$1$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"decimal$ebnf$3$subexpression$1\", \"symbols\": [{\"literal\":\".\"}, \"decimal$ebnf$3$subexpression$1$ebnf$1\"]},\n    {\"name\": \"decimal$ebnf$3\", \"symbols\": [\"decimal$ebnf$3$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"decimal$ebnf$3\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"decimal\", \"symbols\": [\"decimal$ebnf$1\", \"decimal$ebnf$2\", \"decimal$ebnf$3\"], \"postprocess\":\n        function(d) {\n            return parseFloat(\n                (d[0] || \"\") +\n                d[1].join(\"\") +\n                (d[2] ? \".\"+d[2][1].join(\"\") : \"\")\n            );\n        }\n        },\n    {\"name\": \"percentage\", \"symbols\": [\"decimal\", {\"literal\":\"%\"}], \"postprocess\":\n        function(d) {\n            return d[0]/100;\n        }\n        },\n    {\"name\": \"jsonfloat$ebnf$1\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"jsonfloat$ebnf$2\", \"symbols\": [\"jsonfloat$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"jsonfloat$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"jsonfloat$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"jsonfloat$ebnf$3$subexpression$1\", \"symbols\": [{\"literal\":\".\"}, \"jsonfloat$ebnf$3$subexpression$1$ebnf$1\"]},\n    {\"name\": \"jsonfloat$ebnf$3\", \"symbols\": [\"jsonfloat$ebnf$3$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$3\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$1\", \"symbols\": [/[+-]/], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$2\", \"symbols\": [\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1\", \"symbols\": [/[eE]/, \"jsonfloat$ebnf$4$subexpression$1$ebnf$1\", \"jsonfloat$ebnf$4$subexpression$1$ebnf$2\"]},\n    {\"name\": \"jsonfloat$ebnf$4\", \"symbols\": [\"jsonfloat$ebnf$4$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$4\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat\", \"symbols\": [\"jsonfloat$ebnf$1\", \"jsonfloat$ebnf$2\", \"jsonfloat$ebnf$3\", \"jsonfloat$ebnf$4\"], \"postprocess\":\n        function(d) {\n            return parseFloat(\n                (d[0] || \"\") +\n                d[1].join(\"\") +\n                (d[2] ? \".\"+d[2][1].join(\"\") : \"\") +\n                (d[3] ? \"e\" + (d[3][1] || \"+\") + d[3][2].join(\"\") : \"\")\n            );\n        }\n        },\n    {\"name\": \"regexp$string$1\", \"symbols\": [{\"literal\":\"=\"}, {\"literal\":\"~\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"regexp\", \"symbols\": [\"regexp$string$1\"], \"postprocess\": id},\n    {\"name\": \"regexp$string$2\", \"symbols\": [{\"literal\":\"!\"}, {\"literal\":\"~\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"regexp\", \"symbols\": [\"regexp$string$2\"], \"postprocess\": id},\n    {\"name\": \"equals\", \"symbols\": [{\"literal\":\"=\"}], \"postprocess\": id},\n    {\"name\": \"not_equals$string$1\", \"symbols\": [{\"literal\":\"!\"}, {\"literal\":\"=\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"not_equals\", \"symbols\": [\"not_equals$string$1\"], \"postprocess\": id},\n    {\"name\": \"prop_name$ebnf$1\", \"symbols\": [/[A-Za-z0-9_]/]},\n    {\"name\": \"prop_name$ebnf$1\", \"symbols\": [\"prop_name$ebnf$1\", /[A-Za-z0-9_]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"prop_name\", \"symbols\": [\"prop_name$ebnf$1\"], \"postprocess\": join},\n    {\"name\": \"number\", \"symbols\": [\"decimal\"], \"postprocess\": id},\n    {\"name\": \"dqstring$ebnf$1\", \"symbols\": []},\n    {\"name\": \"dqstring$ebnf$1\", \"symbols\": [\"dqstring$ebnf$1\", \"dstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"dqstring\", \"symbols\": [{\"literal\":\"\\\"\"}, \"dqstring$ebnf$1\", {\"literal\":\"\\\"\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"sqstring$ebnf$1\", \"symbols\": []},\n    {\"name\": \"sqstring$ebnf$1\", \"symbols\": [\"sqstring$ebnf$1\", \"sstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"sqstring\", \"symbols\": [{\"literal\":\"'\"}, \"sqstring$ebnf$1\", {\"literal\":\"'\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"dqregexp$ebnf$1\", \"symbols\": []},\n    {\"name\": \"dqregexp$ebnf$1\", \"symbols\": [\"dqregexp$ebnf$1\", \"ndstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"dqregexp\", \"symbols\": [{\"literal\":\"\\\"\"}, \"dqregexp$ebnf$1\", {\"literal\":\"\\\"\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"sqregexp$ebnf$1\", \"symbols\": []},\n    {\"name\": \"sqregexp$ebnf$1\", \"symbols\": [\"sqregexp$ebnf$1\", \"nsstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"sqregexp\", \"symbols\": [{\"literal\":\"'\"}, \"sqregexp$ebnf$1\", {\"literal\":\"'\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"dstrchar\", \"symbols\": [/[^\\\\\"\\n]/], \"postprocess\": id},\n    {\"name\": \"dstrchar\", \"symbols\": [\"backslash\", \"strescape\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"dstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"\\\"\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"dstrchar\", \"symbols\": [\"dstrchar$string$1\"], \"postprocess\": d => \"\\\"\"},\n    {\"name\": \"sstrchar\", \"symbols\": [/[^\\\\'\\n]/], \"postprocess\": id},\n    {\"name\": \"sstrchar\", \"symbols\": [\"backslash\", \"strescape\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"sstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"'\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"sstrchar\", \"symbols\": [\"sstrchar$string$1\"], \"postprocess\": d => \"'\"},\n    {\"name\": \"ndstrchar\", \"symbols\": [/[^\\\\\"\\n]/], \"postprocess\": id},\n    {\"name\": \"ndstrchar\", \"symbols\": [\"backslash\", \"unicode\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"ndstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"\\\"\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"ndstrchar\", \"symbols\": [\"ndstrchar$string$1\"], \"postprocess\": d => \"\\\\\\\"\"},\n    {\"name\": \"ndstrchar\", \"symbols\": [\"backslash\"], \"postprocess\": id},\n    {\"name\": \"nsstrchar\", \"symbols\": [/[^\\\\'\\n]/], \"postprocess\": id},\n    {\"name\": \"nsstrchar\", \"symbols\": [\"backslash\", \"unicode\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"nsstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"'\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"nsstrchar\", \"symbols\": [\"nsstrchar$string$1\"], \"postprocess\": d => \"\\\\'\"},\n    {\"name\": \"nsstrchar\", \"symbols\": [\"backslash\"], \"postprocess\": id},\n    {\"name\": \"strescape\", \"symbols\": [/[\"\\\\/bfnrt]/], \"postprocess\": id},\n    {\"name\": \"strescape\", \"symbols\": [\"unicode\"], \"postprocess\": id},\n    {\"name\": \"backslash\", \"symbols\": [{\"literal\":\"\\\\\"}], \"postprocess\": d => \"\\\\\"},\n    {\"name\": \"unicode\", \"symbols\": [{\"literal\":\"u\"}, /[a-fA-F0-9]/, /[a-fA-F0-9]/, /[a-fA-F0-9]/, /[a-fA-F0-9]/], \"postprocess\": d => d.join(\"\")},\n    {\"name\": \"_$ebnf$1\", \"symbols\": []},\n    {\"name\": \"_$ebnf$1\", \"symbols\": [\"_$ebnf$1\", /[\\s]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"_\", \"symbols\": [\"_$ebnf$1\"], \"postprocess\": null},\n    {\"name\": \"value\", \"symbols\": [\"object\"], \"postprocess\": id},\n    {\"name\": \"value\", \"symbols\": [\"array\"], \"postprocess\": id},\n    {\"name\": \"value\", \"symbols\": [\"primitive\"], \"postprocess\": id},\n    {\"name\": \"primitive\", \"symbols\": [\"number\"], \"postprocess\": id},\n    {\"name\": \"primitive\", \"symbols\": [\"string\"], \"postprocess\": id},\n    {\"name\": \"primitive$string$1\", \"symbols\": [{\"literal\":\"t\"}, {\"literal\":\"r\"}, {\"literal\":\"u\"}, {\"literal\":\"e\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"primitive\", \"symbols\": [\"primitive$string$1\"], \"postprocess\": () => true},\n    {\"name\": \"primitive$string$2\", \"symbols\": [{\"literal\":\"f\"}, {\"literal\":\"a\"}, {\"literal\":\"l\"}, {\"literal\":\"s\"}, {\"literal\":\"e\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"primitive\", \"symbols\": [\"primitive$string$2\"], \"postprocess\": () => false},\n    {\"name\": \"primitive$string$3\", \"symbols\": [{\"literal\":\"n\"}, {\"literal\":\"u\"}, {\"literal\":\"l\"}, {\"literal\":\"l\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"primitive\", \"symbols\": [\"primitive$string$3\"], \"postprocess\": () => null},\n    {\"name\": \"query\", \"symbols\": [\"_\", \"trimmed\", \"_\"], \"postprocess\": d => d[1]},\n    {\"name\": \"trimmed\", \"symbols\": [\"compositeElement\"], \"postprocess\": id},\n    {\"name\": \"trimmed\", \"symbols\": [\"function\"], \"postprocess\": id},\n    {\"name\": \"function\", \"symbols\": [\"unary\", \"br\", \"arithmeticElements\", \"BR\"], \"postprocess\": extractFunction},\n    {\"name\": \"function\", \"symbols\": [\"unary\", \"br\", \"oneElement\", \"BR\"], \"postprocess\": extractFunction},\n    {\"name\": \"function\", \"symbols\": [\"binary\", \"br\", \"twoElements\", \"BR\"], \"postprocess\": extractFunction},\n    {\"name\": \"function\", \"symbols\": [\"n_ary\", \"br\", \"commaSeparatedElements\", \"BR\"], \"postprocess\": extractFunction},\n    {\"name\": \"function$string$1\", \"symbols\": [{\"literal\":\"m\"}, {\"literal\":\"a\"}, {\"literal\":\"p\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"function\", \"symbols\": [\"function$string$1\", \"br\", \"map_func_args\", \"BR\"], \"postprocess\": extractFunction},\n    {\"name\": \"oneElement\", \"symbols\": [\"arithmeticElement\"], \"postprocess\": ([d]) => Array.isArray(d) ? d : [d]},\n    {\"name\": \"twoElements\", \"symbols\": [\"compositeElement\", \"comma\", \"compositeElement\"], \"postprocess\": extract2Elements},\n    {\"name\": \"commaSeparatedElements$ebnf$1\", \"symbols\": []},\n    {\"name\": \"commaSeparatedElements$ebnf$1$subexpression$1\", \"symbols\": [\"comma\", \"compositeElement\"]},\n    {\"name\": \"commaSeparatedElements$ebnf$1\", \"symbols\": [\"commaSeparatedElements$ebnf$1\", \"commaSeparatedElements$ebnf$1$subexpression$1\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"commaSeparatedElements\", \"symbols\": [\"compositeElement\", \"commaSeparatedElements$ebnf$1\"], \"postprocess\": extractCommaSeparatedArray},\n    {\"name\": \"arithmeticElements$ebnf$1$subexpression$1\", \"symbols\": [\"operator\", \"arithmeticElement\"]},\n    {\"name\": \"arithmeticElements$ebnf$1\", \"symbols\": [\"arithmeticElements$ebnf$1$subexpression$1\"]},\n    {\"name\": \"arithmeticElements$ebnf$1$subexpression$2\", \"symbols\": [\"operator\", \"arithmeticElement\"]},\n    {\"name\": \"arithmeticElements$ebnf$1\", \"symbols\": [\"arithmeticElements$ebnf$1\", \"arithmeticElements$ebnf$1$subexpression$2\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"arithmeticElements\", \"symbols\": [\"arithmeticElement\", \"arithmeticElements$ebnf$1\"], \"postprocess\": extractOperationsArray},\n    {\"name\": \"map_func_args\", \"symbols\": [\"compositeElement\", {\"literal\":\",\"}, \"array\", {\"literal\":\",\"}, \"array\", \"comma\", \"number\"], \"postprocess\": extractMapFuncArgs},\n    {\"name\": \"compositeElement\", \"symbols\": [\"arithmeticElement\"], \"postprocess\": id},\n    {\"name\": \"compositeElement\", \"symbols\": [\"arithmeticElements\"], \"postprocess\": id},\n    {\"name\": \"arithmeticElement$ebnf$1$subexpression$1\", \"symbols\": [\"unary_operator\"]},\n    {\"name\": \"arithmeticElement$ebnf$1\", \"symbols\": [\"arithmeticElement$ebnf$1$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"arithmeticElement$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"arithmeticElement\", \"symbols\": [\"arithmeticElement$ebnf$1\", \"element\"], \"postprocess\": extractUnaryOperator},\n    {\"name\": \"element\", \"symbols\": [\"function\"], \"postprocess\": id},\n    {\"name\": \"element\", \"symbols\": [\"type\", \"condition\"], \"postprocess\": formatQuery},\n    {\"name\": \"element\", \"symbols\": [\"number\"], \"postprocess\": extractNumber},\n    {\"name\": \"element$string$1\", \"symbols\": [{\"literal\":\"p\"}, {\"literal\":\"i\"}, {\"literal\":\"(\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"element\", \"symbols\": [\"element$string$1\", \"_\", {\"literal\":\")\"}], \"postprocess\": extractPI},\n    {\"name\": \"type$string$1\", \"symbols\": [{\"literal\":\"t\"}, {\"literal\":\"s\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"type\", \"symbols\": [\"type$string$1\"], \"postprocess\": id},\n    {\"name\": \"type$string$2\", \"symbols\": [{\"literal\":\"T\"}, {\"literal\":\"S\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"type\", \"symbols\": [\"type$string$2\"], \"postprocess\": ([d]) => d.toLowerCase()},\n    {\"name\": \"condition\", \"symbols\": [\"curl\", \"CURL\"], \"postprocess\": emptyArray},\n    {\"name\": \"condition$ebnf$1\", \"symbols\": []},\n    {\"name\": \"condition$ebnf$1$subexpression$1\", \"symbols\": [\"comma\", \"pair\"]},\n    {\"name\": \"condition$ebnf$1\", \"symbols\": [\"condition$ebnf$1\", \"condition$ebnf$1$subexpression$1\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"condition\", \"symbols\": [\"curl\", \"pair\", \"condition$ebnf$1\", \"CURL\"], \"postprocess\": extractConditionToArray},\n    {\"name\": \"string\", \"symbols\": [\"sqstring\"], \"postprocess\": id},\n    {\"name\": \"string\", \"symbols\": [\"dqstring\"], \"postprocess\": id},\n    {\"name\": \"string\", \"symbols\": [\"variable\"], \"postprocess\": id},\n    {\"name\": \"regexp_string\", \"symbols\": [\"sqregexp\"], \"postprocess\": id},\n    {\"name\": \"regexp_string\", \"symbols\": [\"dqregexp\"], \"postprocess\": id},\n    {\"name\": \"regexp_string\", \"symbols\": [\"variable\"], \"postprocess\": id},\n    {\"name\": \"array\", \"symbols\": [\"sqr\", \"SQR\"], \"postprocess\": emptyArray},\n    {\"name\": \"array$ebnf$1\", \"symbols\": []},\n    {\"name\": \"array$ebnf$1$subexpression$1\", \"symbols\": [\"comma\", \"value\"]},\n    {\"name\": \"array$ebnf$1\", \"symbols\": [\"array$ebnf$1\", \"array$ebnf$1$subexpression$1\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"array\", \"symbols\": [\"sqr\", \"value\", \"array$ebnf$1\", \"SQR\"], \"postprocess\": extractArray},\n    {\"name\": \"object\", \"symbols\": [\"curl\", \"CURL\"], \"postprocess\": emptyObject},\n    {\"name\": \"object$ebnf$1\", \"symbols\": []},\n    {\"name\": \"object$ebnf$1$subexpression$1\", \"symbols\": [\"comma\", \"pair\"]},\n    {\"name\": \"object$ebnf$1\", \"symbols\": [\"object$ebnf$1\", \"object$ebnf$1$subexpression$1\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"object\", \"symbols\": [\"curl\", \"pair\", \"object$ebnf$1\", \"CURL\"], \"postprocess\": extractObject},\n    {\"name\": \"pair\", \"symbols\": [\"prop_name\", \"_\", \"equals\", \"_\", \"value\"], \"postprocess\": d => ([d[0], d[2], d[4]])},\n    {\"name\": \"pair\", \"symbols\": [\"prop_name\", \"_\", \"not_equals\", \"_\", \"primitive\"], \"postprocess\": d => ([d[0], d[2], d[4]])},\n    {\"name\": \"pair\", \"symbols\": [\"prop_name\", \"_\", \"regexp\", \"_\", \"regexp_string\"], \"postprocess\": d => ([d[0], d[2], d[4]])},\n    {\"name\": \"variable\", \"symbols\": [{\"literal\":\"$\"}, \"prop_name\"], \"postprocess\": joinArr},\n    {\"name\": \"variable$string$1\", \"symbols\": [{\"literal\":\"[\"}, {\"literal\":\"[\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"variable$string$2\", \"symbols\": [{\"literal\":\"]\"}, {\"literal\":\"]\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"variable\", \"symbols\": [\"variable$string$1\", \"prop_name\", \"variable$string$2\"], \"postprocess\": joinArr},\n    {\"name\": \"variable\", \"symbols\": [{\"literal\":\"$\"}, \"advanced_variable\"], \"postprocess\": joinArr},\n    {\"name\": \"advanced_variable\", \"symbols\": [{\"literal\":\"{\"}, \"prop_name\", {\"literal\":\":\"}, \"prop_name\", {\"literal\":\"}\"}], \"postprocess\": joinArr},\n    {\"name\": \"unary_operator\", \"symbols\": [\"_\", {\"literal\":\"-\"}, \"_\"], \"postprocess\": extractOperator},\n    {\"name\": \"operator\", \"symbols\": [\"_\", {\"literal\":\"+\"}, \"_\"], \"postprocess\": extractOperator},\n    {\"name\": \"operator\", \"symbols\": [\"_\", {\"literal\":\"-\"}, \"_\"], \"postprocess\": extractOperator},\n    {\"name\": \"operator\", \"symbols\": [\"_\", {\"literal\":\"/\"}, \"_\"], \"postprocess\": extractOperator},\n    {\"name\": \"operator\", \"symbols\": [\"_\", {\"literal\":\"*\"}, \"_\"], \"postprocess\": extractOperator},\n    {\"name\": \"comma\", \"symbols\": [\"_\", {\"literal\":\",\"}, \"_\"], \"postprocess\": d => d[1]},\n    {\"name\": \"unary$string$1\", \"symbols\": [{\"literal\":\"s\"}, {\"literal\":\"i\"}, {\"literal\":\"n\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"unary\", \"symbols\": [\"unary$string$1\"], \"postprocess\": id},\n    {\"name\": \"unary$string$2\", \"symbols\": [{\"literal\":\"c\"}, {\"literal\":\"o\"}, {\"literal\":\"s\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"unary\", \"symbols\": [\"unary$string$2\"], \"postprocess\": id},\n    {\"name\": \"unary$string$3\", \"symbols\": [{\"literal\":\"l\"}, {\"literal\":\"n\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"unary\", \"symbols\": [\"unary$string$3\"], \"postprocess\": id},\n    {\"name\": \"unary$string$4\", \"symbols\": [{\"literal\":\"s\"}, {\"literal\":\"q\"}, {\"literal\":\"r\"}, {\"literal\":\"t\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"unary\", \"symbols\": [\"unary$string$4\"], \"postprocess\": id},\n    {\"name\": \"unary$string$5\", \"symbols\": [{\"literal\":\"e\"}, {\"literal\":\"x\"}, {\"literal\":\"p\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"unary\", \"symbols\": [\"unary$string$5\"], \"postprocess\": id},\n    {\"name\": \"unary$string$6\", \"symbols\": [{\"literal\":\"a\"}, {\"literal\":\"b\"}, {\"literal\":\"s\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"unary\", \"symbols\": [\"unary$string$6\"], \"postprocess\": id},\n    {\"name\": \"unary\", \"symbols\": [], \"postprocess\": id},\n    {\"name\": \"binary$string$1\", \"symbols\": [{\"literal\":\"p\"}, {\"literal\":\"o\"}, {\"literal\":\"w\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"binary\", \"symbols\": [\"binary$string$1\"], \"postprocess\": id},\n    {\"name\": \"binary$string$2\", \"symbols\": [{\"literal\":\"r\"}, {\"literal\":\"o\"}, {\"literal\":\"u\"}, {\"literal\":\"n\"}, {\"literal\":\"d\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"binary\", \"symbols\": [\"binary$string$2\"], \"postprocess\": id},\n    {\"name\": \"binary$string$3\", \"symbols\": [{\"literal\":\"o\"}, {\"literal\":\"n\"}, {\"literal\":\"_\"}, {\"literal\":\"e\"}, {\"literal\":\"r\"}, {\"literal\":\"r\"}, {\"literal\":\"o\"}, {\"literal\":\"r\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"binary\", \"symbols\": [\"binary$string$3\"], \"postprocess\": id},\n    {\"name\": \"n_ary$string$1\", \"symbols\": [{\"literal\":\"m\"}, {\"literal\":\"a\"}, {\"literal\":\"x\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"n_ary\", \"symbols\": [\"n_ary$string$1\"], \"postprocess\": id},\n    {\"name\": \"n_ary$string$2\", \"symbols\": [{\"literal\":\"m\"}, {\"literal\":\"i\"}, {\"literal\":\"n\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"n_ary\", \"symbols\": [\"n_ary$string$2\"], \"postprocess\": id},\n    {\"name\": \"n_ary$string$3\", \"symbols\": [{\"literal\":\"a\"}, {\"literal\":\"v\"}, {\"literal\":\"g\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"n_ary\", \"symbols\": [\"n_ary$string$3\"], \"postprocess\": id},\n    {\"name\": \"n_ary$string$4\", \"symbols\": [{\"literal\":\"s\"}, {\"literal\":\"u\"}, {\"literal\":\"m\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"n_ary\", \"symbols\": [\"n_ary$string$4\"], \"postprocess\": id},\n    {\"name\": \"br\", \"symbols\": [\"_\", {\"literal\":\"(\"}], \"postprocess\": null},\n    {\"name\": \"BR\", \"symbols\": [\"_\", {\"literal\":\")\"}], \"postprocess\": null},\n    {\"name\": \"curl\", \"symbols\": [\"_\", {\"literal\":\"{\"}], \"postprocess\": null},\n    {\"name\": \"CURL\", \"symbols\": [\"_\", {\"literal\":\"}\"}], \"postprocess\": null},\n    {\"name\": \"sqr\", \"symbols\": [\"_\", {\"literal\":\"[\"}], \"postprocess\": null},\n    {\"name\": \"SQR\", \"symbols\": [\"_\", {\"literal\":\"]\"}], \"postprocess\": null}\n  ],\n  ParserStart: \"query\",\n};\n\nexport default grammar;\n","// Generated automatically by nearley, version 2.19.7\n// http://github.com/Hardmath123/nearley\n// Bypasses TS6133. Allow declared but unused functions.\n// @ts-ignore\n\n/* eslint-disable */\nfunction id(d: any[]): any { return d[0]; }\n\nconst formatQuery = ([type, query]) => ({type, query});\nconst emptyObject = () => ({});\nconst emptyArray = () => ([]);\n\n\nconst join = ([d]) => d.join('');\nconst extractPair = d => {\n  return d.length > 2\n\t? {[d[0]+d[1]]:{key: d[0], filter: d[1], value: d[2]}}\n\t: {[d[0]]: d[1]}\n}\nconst extractConditionToArray = d => {\n  if(!d.length) return [];\n  const output = [extractPair(d[2])];\n\n  for (let i in d[4]) {\n  \toutput.push(extractPair(d[4][i][2]))\n  }\n\n  return output\n}\nconst extractObject = d => {\n  let output = {...extractPair(d[2])};\n\n  for (let i in d[4]) {\n    output = {...output, ...extractPair(d[4][i][2])};\n  }\n\n  return output;\n}\nconst extractArray = d => {\n  const output = [d[2]];\n\n  for (let i in d[4]) {\n    output.push(d[4][i][2]);\n  }\n\n  return output;\n}\n\ninterface NearleyToken {  value: any;\n  [key: string]: any;\n};\n\ninterface NearleyLexer {\n  reset: (chunk: string, info: any) => void;\n  next: () => NearleyToken | undefined;\n  save: () => any;\n  formatError: (token: NearleyToken) => string;\n  has: (tokenType: string) => boolean;\n};\n\ninterface NearleyRule {\n  name: string;\n  symbols: NearleySymbol[];\n  postprocess?: (d: any[], loc?: number, reject?: {}) => any;\n};\n\ntype NearleySymbol = string | { literal: any } | { test: (token: any) => boolean };\n\ninterface Grammar {\n  Lexer: NearleyLexer | undefined;\n  ParserRules: NearleyRule[];\n  ParserStart: string;\n};\n\nconst grammar: Grammar = {\n  Lexer: undefined,\n  ParserRules: [\n    {\"name\": \"unsigned_int$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"unsigned_int$ebnf$1\", \"symbols\": [\"unsigned_int$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"unsigned_int\", \"symbols\": [\"unsigned_int$ebnf$1\"], \"postprocess\":\n        function(d) {\n            return parseInt(d[0].join(\"\"));\n        }\n        },\n    {\"name\": \"int$ebnf$1$subexpression$1\", \"symbols\": [{\"literal\":\"-\"}]},\n    {\"name\": \"int$ebnf$1$subexpression$1\", \"symbols\": [{\"literal\":\"+\"}]},\n    {\"name\": \"int$ebnf$1\", \"symbols\": [\"int$ebnf$1$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"int$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"int$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"int$ebnf$2\", \"symbols\": [\"int$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"int\", \"symbols\": [\"int$ebnf$1\", \"int$ebnf$2\"], \"postprocess\":\n        function(d) {\n            if (d[0]) {\n                return parseInt(d[0][0]+d[1].join(\"\"));\n            } else {\n                return parseInt(d[1].join(\"\"));\n            }\n        }\n        },\n    {\"name\": \"unsigned_decimal$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"unsigned_decimal$ebnf$1\", \"symbols\": [\"unsigned_decimal$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\", \"symbols\": [\"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"unsigned_decimal$ebnf$2$subexpression$1\", \"symbols\": [{\"literal\":\".\"}, \"unsigned_decimal$ebnf$2$subexpression$1$ebnf$1\"]},\n    {\"name\": \"unsigned_decimal$ebnf$2\", \"symbols\": [\"unsigned_decimal$ebnf$2$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"unsigned_decimal$ebnf$2\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"unsigned_decimal\", \"symbols\": [\"unsigned_decimal$ebnf$1\", \"unsigned_decimal$ebnf$2\"], \"postprocess\":\n        function(d) {\n            return parseFloat(\n                d[0].join(\"\") +\n                (d[1] ? \".\"+d[1][1].join(\"\") : \"\")\n            );\n        }\n        },\n    {\"name\": \"decimal$ebnf$1\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"decimal$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"decimal$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"decimal$ebnf$2\", \"symbols\": [\"decimal$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"decimal$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"decimal$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [\"decimal$ebnf$3$subexpression$1$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"decimal$ebnf$3$subexpression$1\", \"symbols\": [{\"literal\":\".\"}, \"decimal$ebnf$3$subexpression$1$ebnf$1\"]},\n    {\"name\": \"decimal$ebnf$3\", \"symbols\": [\"decimal$ebnf$3$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"decimal$ebnf$3\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"decimal\", \"symbols\": [\"decimal$ebnf$1\", \"decimal$ebnf$2\", \"decimal$ebnf$3\"], \"postprocess\":\n        function(d) {\n            return parseFloat(\n                (d[0] || \"\") +\n                d[1].join(\"\") +\n                (d[2] ? \".\"+d[2][1].join(\"\") : \"\")\n            );\n        }\n        },\n    {\"name\": \"percentage\", \"symbols\": [\"decimal\", {\"literal\":\"%\"}], \"postprocess\":\n        function(d) {\n            return d[0]/100;\n        }\n        },\n    {\"name\": \"jsonfloat$ebnf$1\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"jsonfloat$ebnf$2\", \"symbols\": [\"jsonfloat$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"jsonfloat$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"jsonfloat$ebnf$3$subexpression$1$ebnf$1\", \"symbols\": [\"jsonfloat$ebnf$3$subexpression$1$ebnf$1\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"jsonfloat$ebnf$3$subexpression$1\", \"symbols\": [{\"literal\":\".\"}, \"jsonfloat$ebnf$3$subexpression$1$ebnf$1\"]},\n    {\"name\": \"jsonfloat$ebnf$3\", \"symbols\": [\"jsonfloat$ebnf$3$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$3\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$1\", \"symbols\": [/[+-]/], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1$ebnf$2\", \"symbols\": [\"jsonfloat$ebnf$4$subexpression$1$ebnf$2\", /[0-9]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"jsonfloat$ebnf$4$subexpression$1\", \"symbols\": [/[eE]/, \"jsonfloat$ebnf$4$subexpression$1$ebnf$1\", \"jsonfloat$ebnf$4$subexpression$1$ebnf$2\"]},\n    {\"name\": \"jsonfloat$ebnf$4\", \"symbols\": [\"jsonfloat$ebnf$4$subexpression$1\"], \"postprocess\": id},\n    {\"name\": \"jsonfloat$ebnf$4\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"jsonfloat\", \"symbols\": [\"jsonfloat$ebnf$1\", \"jsonfloat$ebnf$2\", \"jsonfloat$ebnf$3\", \"jsonfloat$ebnf$4\"], \"postprocess\":\n        function(d) {\n            return parseFloat(\n                (d[0] || \"\") +\n                d[1].join(\"\") +\n                (d[2] ? \".\"+d[2][1].join(\"\") : \"\") +\n                (d[3] ? \"e\" + (d[3][1] || \"+\") + d[3][2].join(\"\") : \"\")\n            );\n        }\n        },\n    {\"name\": \"regexp$string$1\", \"symbols\": [{\"literal\":\"=\"}, {\"literal\":\"~\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"regexp\", \"symbols\": [\"regexp$string$1\"], \"postprocess\": id},\n    {\"name\": \"regexp$string$2\", \"symbols\": [{\"literal\":\"!\"}, {\"literal\":\"~\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"regexp\", \"symbols\": [\"regexp$string$2\"], \"postprocess\": id},\n    {\"name\": \"equals\", \"symbols\": [{\"literal\":\"=\"}], \"postprocess\": id},\n    {\"name\": \"not_equals$string$1\", \"symbols\": [{\"literal\":\"!\"}, {\"literal\":\"=\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"not_equals\", \"symbols\": [\"not_equals$string$1\"], \"postprocess\": id},\n    {\"name\": \"prop_name$ebnf$1\", \"symbols\": [/[A-Za-z0-9_]/]},\n    {\"name\": \"prop_name$ebnf$1\", \"symbols\": [\"prop_name$ebnf$1\", /[A-Za-z0-9_]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"prop_name\", \"symbols\": [\"prop_name$ebnf$1\"], \"postprocess\": join},\n    {\"name\": \"number\", \"symbols\": [\"decimal\"], \"postprocess\": id},\n    {\"name\": \"dqstring$ebnf$1\", \"symbols\": []},\n    {\"name\": \"dqstring$ebnf$1\", \"symbols\": [\"dqstring$ebnf$1\", \"dstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"dqstring\", \"symbols\": [{\"literal\":\"\\\"\"}, \"dqstring$ebnf$1\", {\"literal\":\"\\\"\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"sqstring$ebnf$1\", \"symbols\": []},\n    {\"name\": \"sqstring$ebnf$1\", \"symbols\": [\"sqstring$ebnf$1\", \"sstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"sqstring\", \"symbols\": [{\"literal\":\"'\"}, \"sqstring$ebnf$1\", {\"literal\":\"'\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"dqregexp$ebnf$1\", \"symbols\": []},\n    {\"name\": \"dqregexp$ebnf$1\", \"symbols\": [\"dqregexp$ebnf$1\", \"ndstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"dqregexp\", \"symbols\": [{\"literal\":\"\\\"\"}, \"dqregexp$ebnf$1\", {\"literal\":\"\\\"\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"sqregexp$ebnf$1\", \"symbols\": []},\n    {\"name\": \"sqregexp$ebnf$1\", \"symbols\": [\"sqregexp$ebnf$1\", \"nsstrchar\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"sqregexp\", \"symbols\": [{\"literal\":\"'\"}, \"sqregexp$ebnf$1\", {\"literal\":\"'\"}], \"postprocess\": d => d[1].join(\"\")},\n    {\"name\": \"dstrchar\", \"symbols\": [/[^\\\\\"\\n]/], \"postprocess\": id},\n    {\"name\": \"dstrchar\", \"symbols\": [\"backslash\", \"strescape\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"dstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"\\\"\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"dstrchar\", \"symbols\": [\"dstrchar$string$1\"], \"postprocess\": d => \"\\\"\"},\n    {\"name\": \"sstrchar\", \"symbols\": [/[^\\\\'\\n]/], \"postprocess\": id},\n    {\"name\": \"sstrchar\", \"symbols\": [\"backslash\", \"strescape\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"sstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"'\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"sstrchar\", \"symbols\": [\"sstrchar$string$1\"], \"postprocess\": d => \"'\"},\n    {\"name\": \"ndstrchar\", \"symbols\": [/[^\\\\\"\\n]/], \"postprocess\": id},\n    {\"name\": \"ndstrchar\", \"symbols\": [\"backslash\", \"unicode\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"ndstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"\\\"\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"ndstrchar\", \"symbols\": [\"ndstrchar$string$1\"], \"postprocess\": d => \"\\\\\\\"\"},\n    {\"name\": \"ndstrchar\", \"symbols\": [\"backslash\"], \"postprocess\": id},\n    {\"name\": \"nsstrchar\", \"symbols\": [/[^\\\\'\\n]/], \"postprocess\": id},\n    {\"name\": \"nsstrchar\", \"symbols\": [\"backslash\", \"unicode\"], \"postprocess\": d => JSON.parse(\"\\\"\"+d.join(\"\")+\"\\\"\")},\n    {\"name\": \"nsstrchar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"'\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"nsstrchar\", \"symbols\": [\"nsstrchar$string$1\"], \"postprocess\": d => \"\\\\'\"},\n    {\"name\": \"nsstrchar\", \"symbols\": [\"backslash\"], \"postprocess\": id},\n    {\"name\": \"strescape\", \"symbols\": [/[\"\\\\/bfnrt]/], \"postprocess\": id},\n    {\"name\": \"strescape\", \"symbols\": [\"unicode\"], \"postprocess\": id},\n    {\"name\": \"backslash\", \"symbols\": [{\"literal\":\"\\\\\"}], \"postprocess\": d => \"\\\\\"},\n    {\"name\": \"unicode\", \"symbols\": [{\"literal\":\"u\"}, /[a-fA-F0-9]/, /[a-fA-F0-9]/, /[a-fA-F0-9]/, /[a-fA-F0-9]/], \"postprocess\": d => d.join(\"\")},\n    {\"name\": \"_$ebnf$1\", \"symbols\": []},\n    {\"name\": \"_$ebnf$1\", \"symbols\": [\"_$ebnf$1\", /[\\s]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"_\", \"symbols\": [\"_$ebnf$1\"], \"postprocess\": null},\n    {\"name\": \"value\", \"symbols\": [\"object\"], \"postprocess\": id},\n    {\"name\": \"value\", \"symbols\": [\"array\"], \"postprocess\": id},\n    {\"name\": \"value\", \"symbols\": [\"primitive\"], \"postprocess\": id},\n    {\"name\": \"primitive\", \"symbols\": [\"number\"], \"postprocess\": id},\n    {\"name\": \"primitive\", \"symbols\": [\"string\"], \"postprocess\": id},\n    {\"name\": \"primitive$string$1\", \"symbols\": [{\"literal\":\"t\"}, {\"literal\":\"r\"}, {\"literal\":\"u\"}, {\"literal\":\"e\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"primitive\", \"symbols\": [\"primitive$string$1\"], \"postprocess\": () => true},\n    {\"name\": \"primitive$string$2\", \"symbols\": [{\"literal\":\"f\"}, {\"literal\":\"a\"}, {\"literal\":\"l\"}, {\"literal\":\"s\"}, {\"literal\":\"e\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"primitive\", \"symbols\": [\"primitive$string$2\"], \"postprocess\": () => false},\n    {\"name\": \"primitive$string$3\", \"symbols\": [{\"literal\":\"n\"}, {\"literal\":\"u\"}, {\"literal\":\"l\"}, {\"literal\":\"l\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"primitive\", \"symbols\": [\"primitive$string$3\"], \"postprocess\": () => null},\n    {\"name\": \"rule\", \"symbols\": [\"type\", \"condition\"], \"postprocess\": formatQuery},\n    {\"name\": \"type$string$1\", \"symbols\": [{\"literal\":\"a\"}, {\"literal\":\"s\"}, {\"literal\":\"s\"}, {\"literal\":\"e\"}, {\"literal\":\"t\"}, {\"literal\":\"s\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"type\", \"symbols\": [\"type$string$1\"], \"postprocess\": id},\n    {\"name\": \"type$string$2\", \"symbols\": [{\"literal\":\"e\"}, {\"literal\":\"v\"}, {\"literal\":\"e\"}, {\"literal\":\"n\"}, {\"literal\":\"t\"}, {\"literal\":\"s\"}], \"postprocess\": (d) => d.join('')},\n    {\"name\": \"type\", \"symbols\": [\"type$string$2\"], \"postprocess\": id},\n    {\"name\": \"condition\", \"symbols\": [{\"literal\":\"{\"}, {\"literal\":\"}\"}], \"postprocess\": emptyArray},\n    {\"name\": \"condition$ebnf$1\", \"symbols\": []},\n    {\"name\": \"condition$ebnf$1$subexpression$1\", \"symbols\": [{\"literal\":\",\"}, \"_\", \"pair\", \"_\"]},\n    {\"name\": \"condition$ebnf$1\", \"symbols\": [\"condition$ebnf$1\", \"condition$ebnf$1$subexpression$1\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"condition\", \"symbols\": [{\"literal\":\"{\"}, \"_\", \"pair\", \"_\", \"condition$ebnf$1\", \"_\", {\"literal\":\"}\"}], \"postprocess\": extractConditionToArray},\n    {\"name\": \"regexp_string\", \"symbols\": [\"sqregexp\"], \"postprocess\": id},\n    {\"name\": \"regexp_string\", \"symbols\": [\"dqregexp\"], \"postprocess\": id},\n    {\"name\": \"string\", \"symbols\": [\"sqstring\"], \"postprocess\": id},\n    {\"name\": \"string\", \"symbols\": [\"dqstring\"], \"postprocess\": id},\n    {\"name\": \"array\", \"symbols\": [{\"literal\":\"[\"}, \"_\", {\"literal\":\"]\"}], \"postprocess\": emptyArray},\n    {\"name\": \"array$ebnf$1\", \"symbols\": []},\n    {\"name\": \"array$ebnf$1$subexpression$1\", \"symbols\": [{\"literal\":\",\"}, \"_\", \"value\", \"_\"]},\n    {\"name\": \"array$ebnf$1\", \"symbols\": [\"array$ebnf$1\", \"array$ebnf$1$subexpression$1\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"array\", \"symbols\": [{\"literal\":\"[\"}, \"_\", \"value\", \"_\", \"array$ebnf$1\", \"_\", {\"literal\":\"]\"}], \"postprocess\": extractArray},\n    {\"name\": \"object\", \"symbols\": [{\"literal\":\"{\"}, \"_\", {\"literal\":\"}\"}], \"postprocess\": emptyObject},\n    {\"name\": \"object$ebnf$1\", \"symbols\": []},\n    {\"name\": \"object$ebnf$1$subexpression$1\", \"symbols\": [{\"literal\":\",\"}, \"_\", \"pair\", \"_\"]},\n    {\"name\": \"object$ebnf$1\", \"symbols\": [\"object$ebnf$1\", \"object$ebnf$1$subexpression$1\"], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"object\", \"symbols\": [{\"literal\":\"{\"}, \"_\", \"pair\", \"_\", \"object$ebnf$1\", \"_\", {\"literal\":\"}\"}], \"postprocess\": extractObject},\n    {\"name\": \"pair\", \"symbols\": [\"prop_name\", \"_\", \"equals\", \"_\", \"value\"], \"postprocess\": d => [d[0], d[4]]},\n    {\"name\": \"pair\", \"symbols\": [\"prop_name\", \"_\", \"regexp\", \"_\", \"regexp_string\"], \"postprocess\": d => [d[0], d[2], d[4]]},\n    {\"name\": \"pair\", \"symbols\": [\"prop_name\", \"_\", \"not_equals\", \"_\", \"primitive\"], \"postprocess\": d => [d[0], d[2], d[4]]}\n  ],\n  ParserStart: \"rule\",\n};\n\nexport default grammar;\n","import _, { get, isUndefined } from 'lodash';\nimport getFilterDeep from 'deepdash/getFilterDeep';\nimport getPaths from 'deepdash/getPaths';\nimport getOmitDeep from 'deepdash/getOmitDeep';\nimport { Parser, Grammar } from 'nearley';\nimport grammar from './grammar';\nimport { ParserResponse, QueryParserResponse } from '../types';\n\nconst compiledGrammar = Grammar.fromCompiled(grammar);\nconst filterDeep = getFilterDeep(_);\nconst paths = getPaths(_);\nconst omitDeep = getOmitDeep(_);\n\nconst parseWith = (parser: Parser, query: string) => {\n  const trimmedQuery = query.trim();\n  let result;\n\n  try {\n    parser.feed(trimmedQuery);\n\n    [result] = parser.finish();\n  } catch (e) {\n    const message = formatErrorMessage(e, trimmedQuery);\n\n    throw new Error(message);\n  }\n\n  if (!result) {\n    const message = formatErrorMessage(\n      { offset: trimmedQuery.length },\n      trimmedQuery,\n      'Parser: Unexpected end of input'\n    );\n\n    throw new Error(message);\n  }\n\n  return result;\n};\n\nconst parseQuery = (query: string): QueryParserResponse => {\n  return parseWith(new Parser(compiledGrammar), query);\n};\n\nconst formatErrorMessage = ({ offset }, query, title = 'Parser: Syntax error'): string => {\n  const pointer = Number.isInteger(offset) ? offset + 1 : query.length;\n  const message = `${query}\\n${Array(pointer).join(' ')}^`;\n\n  return `${title}:\\n${message}`;\n};\n\nconst formatQueryParse = ({ type, query }: QueryParserResponse): ParserResponse => {\n  const extractedFilters = filterDeep(\n    query,\n    (objValue, objKey, { value, filter }) => !isUndefined(value) && filter\n  );\n  const filtered = extractedFilters\n    ? extractedFilters.reduce((acc, c) => ({ ...acc, ...c }), {})\n    : {};\n\n  const emptyFilters = omitDeep(filtered, ['filter', 'value', 'key']);\n  const filters = paths(emptyFilters, { pathFormat: 'array' }).map((path) => {\n    const currentPath = path.join('.');\n    const parentPath = path.slice(0, -1);\n    const { filter, key, value } = get(filtered, currentPath);\n\n    parentPath.push(key);\n\n    return { filter, value, path: parentPath.join('.') };\n  });\n\n  const extractedParams = filterDeep(\n    query,\n    (reg, key, { value, filter }) => !(!isUndefined(value) && filter)\n  );\n  const params = extractedParams ? extractedParams.reduce((acc, c) => ({ ...acc, ...c }), {}) : {};\n\n  return { type, params, filters };\n};\n\nconst parse = (query: string): ParserResponse => {\n  const result = parseQuery(query);\n\n  return formatQueryParse(result);\n};\n\nexport { parse, formatQueryParse, parseQuery, parseWith };\n","/* eslint-disable */ // TODO: remove this\nimport { TimeSeriesResponseItem, IdEither } from '../../cdf/types';\nimport { DataQueryRequestItem, QueryTarget } from '../../types';\nimport _, { isArray, isObjectLike, uniqBy, findIndex, cloneDeep } from 'lodash';\nimport { Parser, Grammar } from 'nearley';\nimport grammar from './grammar';\nimport { getTimeseries, getLabelWithInjectedProps } from '../../cdf/client';\nimport { Connector } from '../../connector';\nimport { FilterTypes, FilterType } from '../types';\nimport { applyFilters } from '../../utils';\nimport { parseWith } from '../events-assets/index';\nimport getFilterDeep from 'deepdash/getFilterDeep';\n\nconst filterDeep = getFilterDeep(_);\nconst compiledGrammar = Grammar.fromCompiled(grammar);\n\nexport const formQueriesForExpression = async (\n  expression: string,\n  target: QueryTarget,\n  connector: Connector,\n  defaultInterval: string\n): Promise<DataQueryRequestItem[]> => {\n  const rawParsed = parse(expression);\n  const { aggregation, granularity } = target;\n  const parsed = enrichWithDefaultAggregates(\n    rawParsed,\n    { granularity, aggregate: aggregation },\n    defaultInterval\n  );\n  const serverFilters = getServerFilters(parsed);\n  if (!serverFilters.length) {\n    return [{ expression: composeSTSQuery(parsed) }];\n  }\n  const timeseries = await Promise.all(\n    serverFilters.map(async filter => {\n      const tsResult = await getTimeseries({ filter }, connector, false);\n      if (!tsResult.length) {\n        throw NoTimeseriesFound(expression, filter);\n      }\n      return tsResult;\n    })\n  );\n  const clientFilters = getClientFilters(parsed);\n  const clientFilteredTimeseries = timeseries.map((arr, i) => applyFilters(arr, clientFilters[i]));\n  const multiaryFuncTsIndices = getIndicesOfMultiaryFunctionArgs(parsed);\n  const permutations = generateAllPossiblePermutations(\n    clientFilteredTimeseries,\n    multiaryFuncTsIndices\n  );\n  const queryExpressions = permutations.map(series => injectTSIdsInExpression(parsed, series));\n  if (!queryExpressions.length) {\n    throw NoTimeseriesFound(expression);\n  }\n  return queryExpressions.map(expression => ({ expression }));\n};\n\nconst NoTimeseriesFound = (expr: string, filter?: StringMap) => {\n  const where = filter ? ` ${JSON.stringify(filter)}` : 's'\n  return new Error(`No timeseries found for filter${where} in expression ${expr}`)\n};\n\n/**\n * Injects default values of aggregate and granularity (if it is not provided).s\n * @param parsedData: synthetic timeseries parsed data\n * @param target: {aggregation, granularity}\n * @param defaultInterval  interval that comes from grafana options\n * @return result  parsed data with default values of aggregation and granularity\n */\nexport const enrichWithDefaultAggregates = (\n  parsedData: STSQuery,\n  { aggregate, granularity }: { aggregate: string; granularity: string },\n  defaultInterval: string\n) => {\n  if (aggregate === 'none') {\n    return parsedData;\n  }\n\n  const result = cloneDeep(parsedData);\n  const defaultValues = {\n    aggregate,\n    granularity: granularity || defaultInterval,\n  };\n  walk(result, obj => {\n    if (isSTSReference(obj)) {\n      Object.keys(defaultValues).forEach(key => {\n        if (findIndex(obj.query, ['path', key]) === -1) {\n          obj.query.push(STSFilter(key, defaultValues[key]));\n        }\n      });\n    }\n  });\n\n  return result;\n};\n\nexport const injectTSIdsInExpression = (\n  parsedData: STSQuery,\n  timeseries: TimeSeriesResponseItem[][]\n) => {\n  let i = 0;\n  const exprWithSum = composeSTSQuery(parsedData, item => {\n    if (isSTSReference(item) && !hasIdsFilter(item)) {\n      const syntheticFilters = item.query.filter(isSTSAggregateFilter);\n      const paramTSIds = timeseries[i++].map(({ id }) => id);\n      const pseudoParsedSTS = paramTSIds.map(id =>\n        STSReference([STSFilter('id', id), ...syntheticFilters])\n      );\n      return pseudoParsedSTS.map(ts => composeSTSQuery(ts)).join(', ');\n    }\n  });\n  return flattenSumFunctions(exprWithSum);\n};\n\nexport const parse = (s: string): STSQuery => {\n  return parseWith(new Parser(compiledGrammar), s);\n};\n\nexport const generateAllPossiblePermutations = <T>(\n  arrayOfArrays: T[][],\n  lockIndices: number[] = []\n): T[][][] => {\n  let res: T[][][] = [];\n  for (let i = 0; i < arrayOfArrays.length; i++) {\n    const locked = lockIndices.includes(i);\n    const array = [...arrayOfArrays[i]];\n    if (res.length) {\n      const temp = [...res];\n      const temptemp = [];\n      for (const t of temp) {\n        if (locked) {\n          temptemp.push([...t, array]);\n        } else {\n          for (const item of array) {\n            temptemp.push([...t, [item]]);\n          }\n        }\n      }\n      res = [...temptemp];\n    } else {\n      if (locked) {\n        res = [[array]];\n      } else {\n        res = array.map(i => [[i]]);\n      }\n    }\n  }\n  return res;\n};\n\nexport const convertExpressionToLabel = (\n  expression: string,\n  labelSrc: string,\n  tsMap: TSResponseMap\n) => {\n  return composeSTSQuery(parse(expression), item => {\n    if (isSTSReference(item)) {\n      const [{ value }] = getIdFilters(item);\n      const serie = tsMap[String(value)];\n      if (labelSrc) {\n        return getLabelWithInjectedProps(labelSrc, serie);\n      }\n      return `${serie.name || serie.externalId || serie.id}`;\n    }\n  });\n};\n\nexport const getLabelsForExpression = async (\n  expressions: string[],\n  labelSrc: string,\n  connector: Connector\n) => {\n  const tsIds = getReferencedIdsInExpressions(expressions);\n  const tsUniqueIds = uniqBy(tsIds, unwrapId);\n  const referencedTS = await getTimeseries({ items: tsUniqueIds }, connector, false);\n  const tsMap = reduceTsToMap(referencedTS);\n  return expressions.map(expr => convertExpressionToLabel(expr, labelSrc, tsMap));\n};\n\nexport const getReferencedTimeseries = (route: STSQuery): StringMap[] => {\n  let idFilters: STSServerFilter[] = [];\n  walk(route, obj => {\n    if (isSTSReference(obj)) {\n      const ids = getIdFilters(obj);\n      idFilters = [...idFilters, ...ids];\n    }\n  });\n  return idFilters.map(({ path, value }) => ({\n    [path]: value as string,\n  }));\n};\n\nexport const flattenServerQueryFilters = (items: unknown[]): StringMap => {\n  return items.filter(isSTSFilter).reduce((res, filter) => {\n    let value: any;\n    if (isByIdsQuery(filter.value)) {\n      value = filter.value.map(item => flattenServerQueryFilters([item]));\n    } else if (isSTSFilterArr(filter.value)) {\n      value = { ...res[filter.path], ...flattenServerQueryFilters(filter.value) };\n    } else if (isSTSFilterArr2d(filter.value)) {\n      value = filter.value.map(flattenServerQueryFilters);\n    } else {\n      value = filter.value;\n    }\n    res[filter.path] = value;\n    return res;\n  }, {});\n};\n\nexport const walk = (route: STSQuery, iterator: (item: STSQueryItem | STSFunction) => void) => {\n  if (isArray(route)) {\n    route.forEach(r => walk(r, iterator));\n  } else {\n    iterator(route);\n    if (isSTSFunction(route)) {\n      walk(isMapFunction(route) ? route.args[0] : route.args, iterator);\n    }\n  }\n};\n\nexport const getIndicesOfMultiaryFunctionArgs = (route: STSQuery): number[] => {\n  const responseArr = [];\n  const argsIndices = [];\n  let index = 0;\n  walk(route, obj => {\n    if (isMultiaryFunction(obj) && obj.args.length === 1) {\n      argsIndices.push(...obj.args);\n    } else if (isSTSReference(obj) && !hasIdsFilter(obj)) {\n      if (argsIndices.includes(obj)) {\n        responseArr.push(index);\n      }\n      index++;\n    }\n  });\n  return responseArr;\n};\n\nexport const extractFilters = (\n  route: STSQuery,\n  condition: (_, __, parent) => boolean\n): unknown[][] => {\n  const extracted: unknown[][] = [];\n  walk(route, obj => {\n    if (isSTSReference(obj) && !hasIdsFilter(obj)) {\n      extracted.push(filterDeep(obj.query, condition));\n    }\n  });\n  return extracted;\n};\n\nexport const getServerFilters = (route: STSQuery): StringMap[] => {\n  const filter = (_, __, parent) => isServerFilter(parent) || !isSTSFilter(parent);\n  return extractFilters(route, filter).map(filters =>\n    flattenServerQueryFilters(filters || [])\n  ) as StringMap[];\n};\n\nexport const flattenClientQueryFilters = (filters: unknown[], path = []): STSClientFilter[] => {\n  const res: STSClientFilter[] = [];\n  filters.filter(isSTSFilter).forEach(filter => {\n    if (isServerFilter(filter) && isSTSFilterArr(filter.value)) {\n      res.push(...flattenClientQueryFilters(filter.value, [...path, filter.path]));\n    } else {\n      res.push({\n        path: [...path, filter.path].join('.'),\n        value: filter.value,\n        filter: filter.filter,\n      } as STSClientFilter);\n    }\n  });\n  return res;\n};\n\nexport const getClientFilters = (route: STSQuery): STSClientFilter[][] => {\n  const filter = (_, __, parent) => isClientFilter(parent) || isArray(parent.value);\n  return extractFilters(route, filter).map(filters =>\n    flattenClientQueryFilters(filters || [])\n  ) as STSClientFilter[][];\n};\n\nconst reverseSTSFilter = ({ path, filter, value }: STSFilter) => {\n  return `${path}${filter}${stringifyValue(value)}`;\n};\n\nconst stringifyValue = (val: STSValue, wrap: boolean = true) => {\n  if (isArray(val)) {\n    const items = (val as any).map(item => {\n      return isSTSFilter(item) ? reverseSTSFilter(item) : stringifyValue(item);\n    });\n    const joinedStr = items.join(', ');\n    if (wrap) {\n      return isSTSFilterArr(val) ? `{${joinedStr}}` : `[${joinedStr}]`;\n    }\n    return joinedStr;\n  }\n  return JSON.stringify(val);\n};\n\nexport const composeSTSQuery = (\n  target: STSQuery,\n  custom?: (item: STSQuery) => string,\n  separateWith: string = ''\n): string => {\n  if (custom) {\n    const customRes = custom(target);\n    if (customRes !== undefined) {\n      return customRes;\n    }\n  }\n  if (isArray(target)) {\n    return target.map(i => composeSTSQuery(i, custom)).join(separateWith);\n  }\n  if (isSTSReference(target)) {\n    return `${target.type}{${stringifyValue(target.query, false)}}`;\n  }\n  if (isOperator(target)) {\n    return ` ${target.operator} `;\n  }\n  if (isWrappedConst(target)) {\n    return `${target.constant}`;\n  }\n  const separator = isMultiaryFunction(target) ? ', ' : '';\n  let stringArgs = '';\n  if (isMapFunction(target)) {\n    const [arg0, ...args] = target.args;\n    stringArgs = `${composeSTSQuery(arg0, custom)}, ${args\n      .map(arg => stringifyValue(arg))\n      .join(', ')}`;\n  } else {\n    stringArgs = composeSTSQuery(target.args, custom, separator);\n  }\n  return `${target.func}(${stringArgs})`;\n};\n\nconst flattenSumFunctions = (expression: string): string => {\n  return composeSTSQuery(parse(expression), item => {\n    if (isSumFunction(item)) {\n      return `(${composeSTSQuery(item.args, null, ' + ')})`;\n    }\n  });\n};\n\nconst unwrapId = (idEither: IdEither) => {\n  if ('id' in idEither) {\n    return idEither.id;\n  }\n  return idEither.externalId;\n};\n\nconst getReferencedIdsInExpressions = (expressions: string[]) => {\n  const allIds: IdEither[] = [];\n  for (const expression of expressions) {\n    const parsed = parse(expression);\n    const referenced = getReferencedTimeseries(parsed) as IdEither[];\n    allIds.push(...referenced);\n  }\n  return allIds;\n};\n\nconst reduceTsToMap = (timeseries: TimeSeriesResponseItem[]): TSResponseMap => {\n  return timeseries.reduce((map, serie) => {\n    map[serie.id] = serie;\n    if (serie.externalId) {\n      map[serie.externalId] = serie;\n    }\n    return map;\n  }, {} as TSResponseMap);\n};\n\nexport const STSReference = (query: STSFilter[] = []): STSReference => {\n  return {\n    query,\n    type: 'ts',\n  };\n};\n\nexport const STSFilter = (\n  path: string,\n  value: STSFilter['value'],\n  filter: FilterType = '='\n): STSFilter => {\n  return { path, value, filter } as STSFilter;\n};\n\nexport const Operator = (operator: Operator['operator']): Operator => {\n  return { operator };\n};\n\nexport const Constant = (constant: number): WrappedConst => {\n  return { constant };\n};\n\nconst getIdFilters = (obj: STSReference) => {\n  return obj.query.filter(isIdsFilter);\n};\n\nconst hasIdsFilter = (obj: STSReference) => {\n  return getIdFilters(obj).length;\n};\n\nconst isEqualsFilter = (query: any): query is STSServerFilter => {\n  return isSTSFilter(query) && query.filter === FilterTypes.Equals;\n};\n\nconst isOneOf = (value: string, ...arr: string[]) => {\n  return arr.indexOf(value) !== -1;\n};\n\nconst isSTSAggregateFilter = (query: STSFilter) => {\n  return isEqualsFilter(query) && isOneOf(query.path, 'granularity', 'aggregate', 'alignment');\n};\n\nconst isIdsFilter = (query: STSFilter): query is STSServerFilter => {\n  return isEqualsFilter(query) && isOneOf(query.path, 'id', 'externalId');\n};\n\nconst isServerFilter = (item: STSFilter): item is STSServerFilter => {\n  return isEqualsFilter(item) && !isSTSAggregateFilter(item);\n};\n\nconst isClientFilter = (item: any): item is STSClientFilter => {\n  return isSTSFilter(item) && !isEqualsFilter(item);\n};\n\nconst isByIdsQuery = (query: any): query is STSFilter[] => {\n  return isArray(query) && query.some(isIdsFilter);\n};\n\nconst isSTSFilter = (item: any): item is STSFilter => {\n  return isObjectLike(item) && item.path && item.filter && 'value' in item;\n};\n\nconst isSTSFilterArr = (query: any): query is STSFilter[] => {\n  return isArray(query) && query.length && query.every(isSTSFilter);\n};\n\nconst isSTSFilterArr2d = (query: any): query is STSFilter[][] => {\n  return isArray(query) && query.every(isSTSFilterArr);\n};\n\nconst isWrappedConst = (obj: any): obj is WrappedConst => {\n  return isObjectLike(obj) && 'constant' in obj;\n};\n\nconst isSTSReference = (obj: any): obj is STSReference => {\n  return isObjectLike(obj) && obj.type === 'ts';\n};\n\nconst isOperator = (obj: any): obj is Operator => {\n  return isObjectLike(obj) && 'operator' in obj;\n};\n\nconst isSTSFunction = (obj: any): obj is STSFunction => {\n  return isObjectLike(obj) && 'args' in obj && 'func' in obj;\n};\n\nconst isSpecificFunction = (obj: any, name: string): obj is STSFunction => {\n  return isSTSFunction(obj) && name === obj.func;\n};\n\nconst isMapFunction = (obj: any): obj is MapFunction => {\n  return isSpecificFunction(obj, 'map');\n};\n\nconst isSumFunction = (obj: any): obj is MultiaryFunction => {\n  return isSpecificFunction(obj, 'sum');\n};\n\nconst isMultiaryFunction = (obj: any): obj is MultiaryFunction => {\n  return (\n    isSTSFunction(obj) && isOneOf(obj.func, 'avg', 'sum', 'min', 'max', 'pow', 'round', 'on_error')\n  );\n};\n\ntype TSResponseMap = { [s: string]: TimeSeriesResponseItem };\n\ntype StringMap = { [key: string]: string };\n\ntype STSValue = STSPrimitiveValue | STSPrimitiveValue[] | STSFilter[] | STSFilter[][];\n\ntype STSPrimitiveValue = string | number | boolean;\n\nexport type STSQuery = (STSQueryItem[] | STSQueryItem)[] | STSQueryItem;\n\nexport type STSFilter = STSClientFilter | STSServerFilter;\n\nexport type STSClientFilter = {\n  path: string;\n  filter: Exclude<FilterType, '='>;\n  value: STSPrimitiveValue;\n};\n\nexport type STSServerFilter = {\n  path: string;\n  filter: FilterType;\n  value: STSValue;\n};\n\nexport type Operator = {\n  operator: '+' | '-' | '/' | '*';\n};\n\nexport type STSQueryItem = Operator | STSReference | WrappedConst | STSFunction;\n\nexport type WrappedConst = {\n  constant: number | 'pi()';\n};\n\nexport type STSFunction = UnaryFunction | MultiaryFunction | MapFunction;\n\nexport type UnaryFunction = {\n  func: 'sin' | 'cos' | 'ln' | 'sqrt' | 'exp' | 'abs' | '';\n  args: STSQueryItem[];\n};\n\nexport type MultiaryOperator = 'avg' | 'max' | 'min' | 'sum';\n\nexport type BinaryOperator = 'pow' | 'round' | 'on_error';\n\nexport type MultiaryFunction = {\n  func: MultiaryOperator | BinaryOperator;\n  args: (STSQueryItem[] | STSQueryItem)[];\n};\n\nexport type MapFunction = {\n  func: 'map';\n  args: [STSReference, string[], number[], number];\n};\n\nexport type STSReference = {\n  type: 'ts';\n  query: STSFilter[];\n};\n","import { eventFactory } from '@grafana/data';\nimport { QueryDatapointsWarning, QueryRequestError } from './types';\n\nexport const API_V1 = 'api/v1/projects';\n\nexport const DATAPOINTS_LIMIT_WARNING =\n  'Datapoints limit was reached, so not all datapoints may be shown. Try increasing the granularity, or choose a smaller time range.';\nexport const TIMESERIES_LIMIT_WARNING =\n  \"Only showing first 100 timeseries. To get better results, either change the selected asset or use 'Custom Query'.\";\n\nexport const failedResponseEvent = eventFactory<QueryRequestError>('failed-request');\nexport const datapointsWarningEvent = eventFactory<QueryDatapointsWarning>('datapoints-warning');\n\nexport const CacheTime = {\n  TimeseriesList: '61s',\n  ResourceByIds: '61m',\n  Default: '11s',\n  Dropdown: '3m',\n};\n\nexport const AuthType = {\n  OAuth: 'cdf-oauth',\n  ApiKey: 'cdf-api-key',\n};\n","import _, { get, cloneDeep } from 'lodash';\nimport { TimeSeries } from '@grafana/data';\nimport {\n  TimeSeriesDatapoint,\n  Timestamp,\n  Items,\n  Datapoint,\n  IdEither,\n  TimeSeriesResponseItem,\n  Resource,\n} from './types';\nimport {\n  Tab,\n  QueryTarget,\n  CDFDataQueryRequest,\n  DataQueryRequestItem,\n  QueryOptions,\n  HttpMethod,\n  TimeseriesFilterQuery,\n  DataQueryRequestResponse,\n  ResponseMetadata,\n  Aggregates,\n  Granularity,\n  Tuple,\n  QueriesData,\n  SuccessResponse,\n  Responses,\n  Result,\n  Ok,\n  Err,\n  CogniteTargetObj,\n} from '../types';\nimport { toGranularityWithLowerBound } from '../utils';\nimport { Connector } from '../connector';\nimport { getLabelsForExpression } from '../parser/ts';\nimport { getRange } from '../datasource';\nimport { CacheTime, DATAPOINTS_LIMIT_WARNING } from '../constants';\n\nconst { Asset, Custom, Timeseries } = Tab;\nconst variableLabelRegex = /{{([^{}]+)}}/g;\n\nexport function formQueryForItems(\n  items,\n  { tab, aggregation, granularity },\n  options\n): CDFDataQueryRequest {\n  const [start, end] = getRange(options.range);\n  if (tab === Custom) {\n    const limit = calculateDPLimitPerQuery(items.length);\n    return {\n      items: items.map(({ expression }) => ({ expression, start, end, limit })),\n    };\n  }\n  let aggregations: Aggregates & Granularity = null;\n  const isAggregated = aggregation && aggregation !== 'none';\n  if (isAggregated) {\n    aggregations = {\n      aggregates: [aggregation],\n      granularity: granularity || toGranularityWithLowerBound(options.intervalMs),\n    };\n  }\n  const limit = calculateDPLimitPerQuery(items.length, isAggregated);\n  return {\n    ...aggregations,\n    end,\n    start,\n    items,\n    limit,\n  };\n}\n\nfunction calculateDPLimitPerQuery(queriesNumber: number, hasAggregates: boolean = true) {\n  return Math.floor((hasAggregates ? 10_000 : 100_000) / Math.min(queriesNumber, 100));\n}\n\nexport function formQueriesForTargets(\n  queriesData: QueriesData,\n  options: QueryOptions\n): CDFDataQueryRequest[] {\n  return queriesData.map(({ target, items }) => {\n    return formQueryForItems(items, target, options);\n  });\n}\n\nexport async function getLabelsForTarget(\n  target: QueryTarget,\n  queryList: DataQueryRequestItem[],\n  connector: Connector\n): Promise<string[]> {\n  const labelSrc = target.label || '';\n  switch (target.tab) {\n    default:\n    case Timeseries: {\n      return [await getTimeseriesLabel(labelSrc, targetToIdEither(target), connector)];\n    }\n    case Asset: {\n      const tsIds = queryList.map(({ id }) => ({ id }));\n      /**\n       * TODO: While this is ok perfomence-wise as we have caching, it is not very nice code here.\n       * We should refactor labels logic someday\n       */\n      const timeseries = await getTimeseries({ items: tsIds }, connector, false);\n      return timeseries.map((ts) => getLabelWithInjectedProps(labelSrc, ts));\n    }\n    case Custom: {\n      if (!labelSrc || labelContainsVariableProps(labelSrc)) {\n        const expressions = queryList.map(({ expression }) => expression);\n        return getLabelsForExpression(expressions, labelSrc, connector);\n      }\n      return queryList.map(() => labelSrc);\n    }\n  }\n}\n\nasync function getTimeseriesLabel(\n  label: string,\n  id: IdEither,\n  connector: Connector\n): Promise<string> {\n  let resLabel = label;\n  if (label && labelContainsVariableProps(label)) {\n    const [ts] = await getTimeseries({ items: [id] }, connector);\n    resLabel = getLabelWithInjectedProps(label, ts);\n  }\n  return resLabel;\n}\n\n// injects prop values to ts label, ex. `{{description}} {{metadata.key1}}` -> 'tsDescription tsMetadataKey1Value'\nexport function getLabelWithInjectedProps(\n  label: string,\n  timeseries: TimeSeriesResponseItem\n): string {\n  // matches with any text within {{ }}\n  return label.replace(variableLabelRegex, (full, group) => get(timeseries, group, full));\n}\n\nexport function labelContainsVariableProps(label: string): boolean {\n  return label && !!label.match(variableLabelRegex);\n}\n\nexport async function getTimeseries(\n  data: TimeseriesFilterQuery | Items<IdEither>,\n  connector: Connector,\n  filterIsString: boolean = true\n): Promise<TimeSeriesResponseItem[]> {\n  const method = HttpMethod.POST;\n  let items: TimeSeriesResponseItem[];\n\n  if ('items' in data) {\n    items = await connector.fetchItems({\n      data,\n      method,\n      path: `/timeseries/byids`,\n      cacheTime: CacheTime.ResourceByIds,\n    });\n  } else {\n    items = await connector.fetchAndPaginate({\n      data,\n      method,\n      path: `/timeseries/list`,\n      cacheTime: CacheTime.TimeseriesList,\n    });\n  }\n\n  return cloneDeep(filterIsString ? items.filter((ts) => !ts.isString) : items);\n}\n\nexport function fetchSingleTimeseries(id: IdEither, connector: Connector) {\n  return connector.fetchItems<Resource>({\n    data: { items: [id] },\n    path: `/timeseries/byids`,\n    method: HttpMethod.POST,\n    cacheTime: CacheTime.ResourceByIds,\n  });\n}\n\nexport function fetchSingleAsset(id: IdEither, connector: Connector) {\n  return connector.fetchItems<Resource>({\n    data: { items: [id] },\n    path: `/assets/byids`,\n    method: HttpMethod.POST,\n    cacheTime: CacheTime.ResourceByIds,\n  });\n}\n\nexport function stringifyError(error: any) {\n  const { data, status } = error;\n  const errorMessage = data?.error?.message || error.message;\n  const missing = data?.error?.missing && data?.error?.missing.map(JSON.stringify);\n  const missingStr = missing ? `\\nMissing: ${missing}` : '';\n  const errorCode = status ? `${status} ` : '';\n  return errorMessage ? `[${errorCode}ERROR] ${errorMessage}${missingStr}` : `Unknown error`;\n}\n\nexport function reduceTimeseries(\n  metaResponses: SuccessResponse[],\n  [start, end]: Tuple<number>\n): TimeSeries[] {\n  const responseTimeseries: TimeSeries[] = [];\n\n  metaResponses.forEach(({ result, metadata }) => {\n    const { labels } = metadata;\n    const { aggregates } = result.config.data;\n    const { items } = result.data;\n    const aggregateStr = aggregates ? `${aggregates} ` : '';\n\n    const series = items.map(({ datapoints, externalId, id }, i) => {\n      const label = labels && labels[i];\n      const resTarget = label || `${aggregateStr}${externalId || id}`;\n      const filteredDatapoints = (datapoints as Timestamp[]).filter(\n        ({ timestamp }) => timestamp >= start && timestamp <= end\n      );\n      const rawDatapoints = datapoints2Tuples(filteredDatapoints, aggregates);\n      return {\n        target: resTarget,\n        datapoints: rawDatapoints,\n      };\n    });\n\n    responseTimeseries.push(...series);\n  });\n\n  return responseTimeseries;\n}\n\nexport function datapoints2Tuples<T extends Timestamp[]>(\n  datapoints: T,\n  aggregate: string\n): Tuple<number>[] {\n  return datapoints.map((d) => datapoint2Tuple(d, aggregate));\n}\n\nfunction datapoint2Tuple(\n  dp: Timestamp | TimeSeriesDatapoint,\n  aggregateProp: string\n): Tuple<number> {\n  const value = aggregateProp in dp ? dp[aggregateProp] : (dp as TimeSeriesDatapoint).value;\n  return [value, dp.timestamp];\n}\n\nexport async function concurrent<TQuery, TResult, TError>(\n  queries: TQuery[],\n  queryProxy: (query: TQuery) => Promise<Result<TResult, TError>>\n): Promise<Responses<TResult, TError>> {\n  const later = queries.map(queryProxy);\n  const results = await Promise.all(later);\n  const failed = results.filter((res) => res.isErr).map((err: Err<TResult, TError>) => err.error);\n  const succeded = results.filter((res) => res.isOk).map((ok: Ok<TResult, TError>) => ok.value);\n\n  return { succeded, failed };\n}\n\nexport function getLimitsWarnings(items: Datapoint[], limit: number) {\n  const hasMorePoints = items.some(({ datapoints }) => datapoints.length >= limit);\n  return hasMorePoints ? DATAPOINTS_LIMIT_WARNING : '';\n}\n\nexport function getCalculationWarnings(items: Datapoint[]) {\n  const datapointsErrors = new Set<string>();\n\n  items.forEach(({ datapoints }) => {\n    (datapoints as [])\n      .map(({ error }) => error)\n      .filter(Boolean)\n      .forEach((error) => {\n        datapointsErrors.add(error);\n      });\n  });\n\n  return Array.from(datapointsErrors).join('\\n');\n}\n\nexport function datapointsPath(isSynthetic: boolean) {\n  return `/timeseries/${isSynthetic ? 'synthetic/query' : 'data/list'}`;\n}\n\nexport const targetToIdEither = (obj: CogniteTargetObj) => {\n  return obj.targetRefType === 'externalId'\n    ? {\n        externalId: obj.target,\n      }\n    : {\n        id: obj.target,\n      };\n};\n","import { chunk } from 'lodash';\nimport { getBackendSrv, BackendSrv } from '@grafana/runtime';\nimport ms from 'ms';\nimport {\n  RequestParams,\n  Response,\n  HttpMethod,\n  DataSourceRequestOptions,\n  CursorResponse,\n  isError,\n} from './types';\nimport { Items, Limit } from './cdf/types';\nimport { getQueryString } from './utils';\nimport { API_V1, AuthType, CacheTime } from './constants';\n\nexport class Connector {\n  public constructor(\n    private project: string,\n    private apiUrl: string,\n    private backendSrv: BackendSrv,\n    private oauthPassThru: boolean\n  ) {}\n\n  cachedRequests = new Map<string, Promise<any>>();\n\n  private fetchData<T>(request: RequestParams): Promise<T> {\n    const { path, data, method, params, requestId, cacheTime } = request;\n    const queryString = params ? `?${getQueryString(params)}` : '';\n    const url = `${this.apiUrlAuth}/${API_V1}/${this.project}${path}${queryString}`;\n    const body: DataSourceRequestOptions = { url, data, method };\n    if (requestId) {\n      body.requestId = requestId;\n    }\n    return this.cachedRequest(body, cacheTime);\n  }\n\n  public async chunkAndFetch<Req extends Items, Res extends Response>(\n    request: RequestParams<Req>,\n    chunkSize: number = 100\n  ): Promise<Res> {\n    const { data, requestId } = request;\n    const chunkedItems = chunk(data.items, chunkSize);\n    const chunkedRequests = chunkedItems.map((items, i) => ({\n      ...request,\n      ...chunkedReqId(requestId, i),\n      data: {\n        ...data,\n        items,\n      },\n    }));\n    const promises = chunkedRequests.map((chunk) => this.fetchData<Res>(chunk));\n    const results = await Promise.all(promises);\n    const mergedItems = results.reduce((all, { data }) => {\n      return [...all, ...data.items];\n    }, []);\n    return {\n      ...results[0],\n      data: {\n        ...results[0].data,\n        items: mergedItems,\n      },\n    };\n  }\n\n  public async fetchItems<T>(params: RequestParams): Promise<T[]> {\n    const { data } = await this.fetchData<Response<T>>(params);\n    return data.items;\n  }\n\n  public async fetchAndPaginate<T>(params: RequestParams<Limit>) {\n    const maxLimit = 1000;\n    const { data: queryData } = params;\n    const fullLimit = queryData.limit || maxLimit;\n    const { data } = await this.fetchData<CursorResponse<T>>({\n      ...params,\n      data: {\n        ...queryData,\n        limit: Math.min(maxLimit, fullLimit),\n      },\n    });\n    let { nextCursor: cursor, items } = data;\n\n    /* eslint no-await-in-loop: \"off\" */\n    while (cursor && fullLimit > items.length) {\n      const { data: current } = await this.fetchData<CursorResponse<T>>({\n        ...params,\n        data: {\n          ...queryData,\n          cursor,\n          limit: maxLimit,\n        },\n      });\n      cursor = current.nextCursor;\n      items = [...items, ...current.items];\n    }\n    if (items.length > fullLimit) {\n      items.length = fullLimit;\n    }\n    return items;\n  }\n\n  public request({ path, method = HttpMethod.GET }: { path: string; method?: HttpMethod }) {\n    return this.backendSrv.datasourceRequest({\n      method,\n      url: `${this.apiUrlAuth}/${path}`,\n    });\n  }\n\n  private get apiUrlAuth() {\n    const auth = this.oauthPassThru ? AuthType.OAuth : AuthType.ApiKey;\n    return `${this.apiUrl}/${auth}`;\n  }\n\n  public cachedRequest = async (\n    query: DataSourceRequestOptions,\n    cacheTime: string = CacheTime.Default\n  ): Promise<any> => {\n    const { requestId, ...queryWithoutId } = query;\n    const hash = JSON.stringify(queryWithoutId);\n    const timeout = ms(cacheTime);\n\n    if (this.cachedRequests.has(hash)) {\n      return this.cachedRequests.get(hash);\n    }\n\n    const request = (async () => {\n      try {\n        const res = await this.backendSrv.datasourceRequest(query);\n        if (isError(res)) {\n          throw res;\n        }\n        setTimeout(() => this.cachedRequests.delete(hash), timeout);\n        return res;\n      } catch (e) {\n        this.cachedRequests.delete(hash);\n        throw e;\n      }\n    })();\n\n    this.cachedRequests.set(hash, request);\n    return request;\n  };\n}\n\nconst chunkedReqId = (requestId: string, chunk: number) => {\n  return requestId\n    ? {\n        requestId: chunk ? `${requestId}${chunk}` : requestId,\n      }\n    : undefined;\n};\n","import {\n  AnnotationEvent,\n  AnnotationQueryRequest,\n  DataQueryRequest,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  TimeRange,\n  SelectableValue,\n} from '@grafana/data';\nimport { BackendSrv, getBackendSrv, getTemplateSrv, SystemJS, TemplateSrv } from '@grafana/runtime';\nimport {\n  concurrent,\n  datapointsPath,\n  formQueriesForTargets,\n  getCalculationWarnings,\n  getLabelsForTarget,\n  getLimitsWarnings,\n  getTimeseries,\n  reduceTimeseries,\n  stringifyError,\n  fetchSingleAsset,\n  fetchSingleTimeseries,\n  targetToIdEither,\n} from './cdf/client';\nimport {\n  AssetsFilterRequestParams,\n  EventsFilterRequestParams,\n  FilterRequest,\n  TimeSeriesResponseItem,\n  Resource,\n  IdEither,\n} from './cdf/types';\nimport { Connector } from './connector';\nimport {\n  CacheTime,\n  datapointsWarningEvent,\n  failedResponseEvent,\n  TIMESERIES_LIMIT_WARNING,\n} from './constants';\nimport { parse as parseQuery } from './parser/events-assets';\nimport { formQueriesForExpression } from './parser/ts';\nimport { ParsedFilter, QueryCondition } from './parser/types';\nimport {\n  CDFDataQueryRequest,\n  CogniteAnnotationQuery,\n  CogniteDataSourceOptions,\n  DataQueryRequestItem,\n  DataQueryRequestResponse,\n  Err,\n  FailResponse,\n  HttpMethod,\n  CogniteQuery,\n  isError,\n  MetricDescription,\n  Ok,\n  QueryOptions,\n  QueryResponse,\n  QueryTarget,\n  ResponseMetadata,\n  Responses,\n  SuccessResponse,\n  Tab,\n  Tuple,\n  VariableQueryData,\n} from './types';\nimport { applyFilters, getRequestId, toGranularityWithLowerBound } from './utils';\n\nconst appEventsLoader = SystemJS.load('app/core/app_events');\n\nexport default class CogniteDatasource extends DataSourceApi<\n  CogniteQuery,\n  CogniteDataSourceOptions\n> {\n  /**\n   * Parameters that are needed by grafana\n   */\n  url: string;\n\n  project: string;\n  connector: Connector;\n\n  templateSrv: TemplateSrv;\n  backendSrv: BackendSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<CogniteDataSourceOptions>) {\n    super(instanceSettings);\n\n    const { url, jsonData } = instanceSettings;\n    const { cogniteProject, oauthPassThru } = jsonData;\n    this.backendSrv = getBackendSrv();\n    this.templateSrv = getTemplateSrv();\n    this.url = url;\n    this.connector = new Connector(cogniteProject, url, this.backendSrv, oauthPassThru);\n    this.project = cogniteProject;\n  }\n\n  /**\n   * used by panels to get timeseries data\n   */\n  async query(options: DataQueryRequest<CogniteQuery>): Promise<QueryResponse> {\n    const queryTargets = filterEmptyQueryTargets(options.targets);\n    let responseData = [];\n    if (queryTargets.length) {\n      try {\n        const { failed, succeded } = await this.fetchTimeseriesForTargets(queryTargets, options);\n        handleFailedTargets(failed);\n        showWarnings(succeded);\n        responseData = reduceTimeseries(succeded, getRange(options.range));\n      } catch (error) {\n        /* eslint-disable-next-line no-console  */\n        console.error(error); // TODO: use app-events or something\n      }\n    }\n\n    return { data: responseData };\n  }\n\n  async fetchTimeseriesForTargets(\n    queryTargets: QueryTarget[],\n    options: QueryOptions\n  ): Promise<Responses<SuccessResponse, FailResponse>> {\n    const itemsForTargetsPromises = queryTargets.map(async (target) => {\n      let items: DataQueryRequestItem[];\n      try {\n        items = await this.getDataQueryRequestItems(target, options);\n      } catch (e) {\n        handleError(e, target.refId);\n      }\n      return { items, target };\n    });\n\n    const queryData = (await Promise.all(itemsForTargetsPromises)).filter(\n      (data) => data?.items?.length\n    );\n\n    const queries = formQueriesForTargets(queryData, options);\n    const metadata = await Promise.all(\n      queryData.map(async ({ target, items }) => {\n        let labels = [];\n        try {\n          labels = (await getLabelsForTarget(target, items, this.connector)).map((label) =>\n            this.replaceVariable(label, options.scopedVars)\n          );\n        } catch (err) {\n          handleError(err, target.refId);\n        }\n        return { target, labels };\n      })\n    );\n\n    const queryProxy = async ([data, metadata]: [CDFDataQueryRequest, ResponseMetadata]) => {\n      const { target } = metadata;\n      const isSynthetic = data.items.some((q) => !!q.expression);\n      const chunkSize = isSynthetic ? 10 : 100;\n\n      const request = {\n        data,\n        path: datapointsPath(isSynthetic),\n        method: HttpMethod.POST,\n        requestId: getRequestId(options, target),\n      };\n\n      try {\n        const result = await this.connector.chunkAndFetch<\n          CDFDataQueryRequest,\n          DataQueryRequestResponse\n        >(request, chunkSize);\n        return new Ok({ result, metadata });\n      } catch (error) {\n        return new Err({ error, metadata });\n      }\n    };\n\n    const requests = queries.map((query, i) => [query, metadata[i]]); // I.e queries.zip(metadata)\n    return concurrent(requests, queryProxy);\n  }\n\n  private async getDataQueryRequestItems(\n    target: QueryTarget,\n    options: QueryOptions\n  ): Promise<DataQueryRequestItem[]> {\n    const { tab, target: tsId, assetQuery, expr } = target;\n    switch (tab) {\n      default:\n      case undefined:\n      case Tab.Timeseries: {\n        return [targetToIdEither(target)];\n      }\n      case Tab.Asset: {\n        const timeseries = await this.findAssetTimeseries(target, options);\n        return timeseries.map(({ id }) => ({ id }));\n      }\n      case Tab.Custom: {\n        const templatedExpr = this.replaceVariable(expr, options.scopedVars);\n        const defaultInterval = toGranularityWithLowerBound(options.intervalMs);\n        return formQueriesForExpression(templatedExpr, target, this.connector, defaultInterval);\n      }\n    }\n  }\n\n  replaceVariable(query: string, scopedVars?): string {\n    return this.templateSrv.replace(query.trim(), scopedVars);\n  }\n\n  /**\n   * used by dashboards to get annotations (events)\n   */\n\n  async annotationQuery(\n    options: AnnotationQueryRequest<CogniteAnnotationQuery>\n  ): Promise<AnnotationEvent[]> {\n    const { range, annotation } = options;\n    const { query, error } = annotation;\n    const [startTime, endTime] = getRange(range);\n\n    if (error || !query) {\n      return [];\n    }\n\n    const replacedVariablesQuery = this.replaceVariable(query);\n    const { filters, params } = parseQuery(replacedVariablesQuery);\n    const timeFrame = {\n      startTime: { max: endTime },\n      endTime: { min: startTime },\n    };\n    const data: FilterRequest<EventsFilterRequestParams> = {\n      filter: { ...params, ...timeFrame },\n      limit: 1000,\n    };\n\n    const items = await this.connector.fetchItems<any>({\n      data,\n      path: `/events/list`,\n      method: HttpMethod.POST,\n    });\n    const response = applyFilters(items, filters);\n\n    return response.map(({ description, startTime, endTime, type }) => ({\n      annotation,\n      isRegion: true,\n      text: description,\n      time: startTime,\n      timeEnd: endTime,\n      title: type,\n    }));\n  }\n\n  /**\n   * used by query editor to search for assets/timeseries\n   */\n  async getOptionsForDropdown(\n    query: string,\n    type?: string,\n    options?: any\n  ): Promise<(SelectableValue<string> & Resource)[]> {\n    const resources = {\n      [Tab.Asset]: 'assets',\n      [Tab.Timeseries]: 'timeseries',\n    };\n    const data: any = query\n      ? {\n          search: { query },\n        }\n      : {};\n\n    const items = await this.connector.fetchItems<TimeSeriesResponseItem>({\n      data,\n      path: `/${resources[type]}/search`,\n      method: HttpMethod.POST,\n      params: options,\n      cacheTime: CacheTime.Dropdown,\n    });\n\n    return items.map(resource2DropdownOption);\n  }\n\n  async findAssetTimeseries(\n    { refId, assetQuery }: QueryTarget,\n    { scopedVars }: QueryOptions\n  ): Promise<TimeSeriesResponseItem[]> {\n    const assetId = this.replaceVariable(assetQuery.target, scopedVars);\n    const filter = assetQuery.includeSubtrees\n      ? {\n          assetSubtreeIds: [{ id: Number(assetId) }],\n        }\n      : {\n          assetIds: [assetId],\n        };\n\n    // since /dataquery can only have 100 items and checkboxes become difficult to use past 100 items,\n    //  we only get the first 100 timeseries, and show a warning if there are too many timeseries\n    const limit = 101;\n    const ts = await getTimeseries({ filter, limit }, this.connector);\n    if (ts.length === limit) {\n      (await appEventsLoader).emit(datapointsWarningEvent, {\n        refId,\n        warning: TIMESERIES_LIMIT_WARNING,\n      });\n\n      ts.splice(-1);\n    }\n    return ts;\n  }\n\n  /**\n   * used by query editor to get metric suggestions (template variables)\n   */\n  async metricFindQuery({ query }: VariableQueryData): Promise<MetricDescription[]> {\n    let params: QueryCondition;\n    let filters: ParsedFilter[];\n\n    try {\n      ({ params, filters } = parseQuery(query));\n    } catch (e) {\n      return [];\n    }\n\n    const data: FilterRequest<AssetsFilterRequestParams> = {\n      filter: params,\n      limit: 1000,\n    };\n\n    const assets = await this.connector.fetchItems<Resource>({\n      data,\n      path: `/assets/list`,\n      method: HttpMethod.POST,\n    });\n\n    const filteredAssets = applyFilters(assets, filters);\n\n    return filteredAssets.map(({ name, id }) => ({\n      text: name,\n      value: id,\n    }));\n  }\n\n  fetchSingleTimeseries = (id: IdEither) => {\n    return fetchSingleTimeseries(id, this.connector);\n  };\n\n  fetchSingleAsset = (id: IdEither) => {\n    return fetchSingleAsset(id, this.connector);\n  };\n\n  /**\n   * used by data source configuration page to make sure the connection is working\n   */\n  async testDatasource() {\n    const { status, data } = await this.connector.request({ path: 'login/status' });\n\n    if (status === 200) {\n      const { project, loggedIn } = data?.data || {};\n      if (loggedIn && (project === this.project || !project)) {\n        return {\n          status: 'success',\n          message: 'Your Cognite credentials are valid',\n          title: 'Success',\n        };\n      }\n      return {\n        status: 'error',\n        message: 'Your Cognite credentials are invalid',\n        title: 'Error',\n      };\n    }\n\n    throw Error('Did not get 200 OK');\n  }\n}\n\nexport function filterEmptyQueryTargets(targets: CogniteQuery[]): QueryTarget[] {\n  return targets.filter((target) => {\n    if (target && !target.hide) {\n      const { tab, assetQuery } = target;\n      switch (tab) {\n        case Tab.Asset:\n          return assetQuery && assetQuery.target;\n        case Tab.Custom:\n          return target.expr;\n        case Tab.Timeseries:\n        default:\n          return target.target;\n      }\n    }\n    return false;\n  }) as QueryTarget[];\n}\n\nfunction handleFailedTargets(failed: FailResponse[]) {\n  failed\n    .filter(isError)\n    .filter(({ error }) => !error.cancelled) // if response was cancelled, no need to show error message\n    .forEach(({ error, metadata }) => handleError(error, metadata.target.refId));\n}\n\nexport function resource2DropdownOption(resource: Resource): SelectableValue<string> & Resource {\n  const { id, name, externalId, description } = resource;\n  const value = id.toString();\n  const label = name || externalId || value;\n  return {\n    label,\n    value,\n    description,\n    externalId,\n    id,\n  };\n}\n\nexport function getRange(range: TimeRange): Tuple<number> {\n  const timeFrom = range.from.valueOf();\n  const timeTo = range.to.valueOf();\n  return [timeFrom, timeTo];\n}\n\nfunction handleError(error: any, refId: string) {\n  const errMessage = stringifyError(error);\n  appEventsLoader.then((events) => events.emit(failedResponseEvent, { refId, error: errMessage }));\n}\n\nfunction showWarnings(responses: SuccessResponse[]) {\n  responses.forEach(({ result, metadata }) => {\n    const { items } = result.data;\n    const { limit } = result.config.data;\n    const { refId } = metadata.target;\n    const warning = [getLimitsWarnings(items, limit), getCalculationWarnings(items)]\n      .filter(Boolean)\n      .join('\\n');\n\n    if (warning) {\n      appEventsLoader.then((events) => events.emit(datapointsWarningEvent, { refId, warning }));\n    }\n  });\n}\n","import React, { useEffect } from 'react';\n\nexport const KonamiTracker = ({ onCheat }: { onCheat: () => void }) => {\n  const keySequence = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];\n  let pointer = 0;\n\n  useEffect(() => {\n    const keyListener = ({ keyCode }) => {\n      if (keySequence[pointer] === keyCode) {\n        pointer += 1;\n      } else {\n        pointer = 0;\n      }\n      if (pointer >= keySequence.length) {\n        pointer = 0;\n        onCheat();\n      }\n    };\n\n    window.addEventListener('keydown', keyListener);\n    return () => window.removeEventListener('keydown', keyListener);\n  }, [onCheat]);\n\n  return <div />;\n};\n\nexport const FeatureFlagsWarning = ({\n  featureFlags,\n}: {\n  featureFlags: { [s: string]: boolean };\n}) => {\n  if (Object.values(featureFlags).filter(Boolean).length) {\n    return (\n      <pre className=\"gf-formatted-warning\">\n        Experimental features enabled: {Object.keys(featureFlags)}\n      </pre>\n    );\n  }\n  return <></>;\n};\n","import React, { ChangeEvent, useState } from 'react';\nimport { Icon, LegacyForms } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps } from '@grafana/data';\nimport { CogniteDataSourceOptions, CogniteSecureJsonData } from '../types';\nimport { FeatureFlagsWarning, KonamiTracker } from './devFeatures';\nimport '../css/common.css';\n\nconst { SecretFormField, FormField, Switch } = LegacyForms;\n\ntype ConfigEditorProps = DataSourcePluginOptionsEditorProps<\n  CogniteDataSourceOptions,\n  CogniteSecureJsonData\n>;\n\nconst apiUrlTooltip = `This is the URL used to reach the API.\nIf the project is deployed on the default multi-tenant installation (most are),\nthen keep the default value and do not change the URL.\nIf the project is deployed on a separate custom cluster,\nthen change the URL to point at the API server for that cluster.\nIf unsure, leave the URL as default.`;\n\nconst oAuthPassThruTooltip = `Forward the user's upstream OAuth identity to the data source\n(Their access token gets passed along).`;\n\nexport function ConfigEditor(props: ConfigEditorProps) {\n  const [showHelp, setShowHelp] = useState(false);\n  const { onOptionsChange, options } = props;\n  const { secureJsonData = {}, jsonData, secureJsonFields } = options;\n  const { cogniteDataPlatformApiKey = '' } = secureJsonData;\n  const { cogniteProject = '', cogniteApiUrl = '', featureFlags = {}, oauthPassThru } = jsonData;\n\n  const onJsonDataChange = (patch: Partial<ConfigEditorProps['options']['jsonData']>) => {\n    onOptionsChange({\n      ...options,\n      jsonData: {\n        ...jsonData,\n        ...patch,\n      },\n    });\n  };\n\n  const onApiUrlChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onJsonDataChange({ cogniteApiUrl: event.target.value });\n  };\n\n  const onProjectChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onJsonDataChange({ cogniteProject: event.target.value });\n  };\n\n  const onOAuthPassThruChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onJsonDataChange({ oauthPassThru: event.currentTarget.checked });\n  };\n\n  // Secure field (only sent to the backend)\n  const onAPIKeyChange = (event: ChangeEvent<HTMLInputElement>) => {\n    onOptionsChange({\n      ...options,\n      secureJsonData: {\n        cogniteDataPlatformApiKey: event.target.value,\n      },\n    });\n  };\n\n  const onResetAPIKey = () => {\n    onOptionsChange({\n      ...options,\n      secureJsonFields: {\n        ...options.secureJsonFields,\n        cogniteDataPlatformApiKey: false,\n      },\n      secureJsonData: {\n        ...options.secureJsonData,\n        cogniteDataPlatformApiKey: '',\n      },\n    });\n  };\n\n  return (\n    <>\n      <div className=\"gf-form-group\">\n        <h3 className=\"page-heading\">HTTP</h3>\n        <div className=\"gf-form-inline\">\n          <FormField\n            label=\"Project\"\n            labelWidth={6}\n            inputWidth={20}\n            onChange={onProjectChange}\n            value={cogniteProject}\n            placeholder=\"Cognite Data Fusion project\"\n            tooltip=\"Cognite Data Fusion project name.\"\n          />\n        </div>\n\n        <div className=\"gf-form-inline\">\n          <FormField\n            label=\"API URL\"\n            labelWidth={6}\n            inputWidth={20}\n            onChange={onApiUrlChange}\n            value={cogniteApiUrl}\n            placeholder=\"api.cognitedata.com\"\n            tooltip={apiUrlTooltip}\n          />\n        </div>\n      </div>\n\n      <div className=\"gf-form-group\">\n        <h3 className=\"page-heading\">\n          Auth <Icon name=\"question-circle\" onClick={() => setShowHelp(!showHelp)} />\n        </h3>\n        {showHelp && (\n          <pre>\n            Find out more about authentication at{' '}\n            <a href=\"https://docs.cognite.com/cdf/dashboards/guides/grafana/admin.html#step-3-configure-the-cognite-data-source-for-grafana\">\n              docs.cognite.com/cdf/dashboards/guides/grafana/admin.html\n            </a>\n          </pre>\n        )}\n        <div className=\"gf-form-inline\">\n          {featureFlags.oauthPassThru && (\n            <Switch\n              label=\"Forward OAuth Identity\"\n              labelClass=\"width-13\"\n              checked={oauthPassThru}\n              onChange={onOAuthPassThruChange}\n              tooltip={oAuthPassThruTooltip}\n            />\n          )}\n        </div>\n        {!oauthPassThru && (\n          <div className=\"gf-form-inline\">\n            <div className=\"gf-form\">\n              <SecretFormField\n                isConfigured={secureJsonFields.cogniteDataPlatformApiKey}\n                value={cogniteDataPlatformApiKey}\n                label=\"API Key\"\n                placeholder=\"Cognite Data Fusion API key\"\n                tooltip=\"Cognite Data Fusion API key.\"\n                labelWidth={6}\n                inputWidth={20}\n                onReset={onResetAPIKey}\n                onChange={onAPIKeyChange}\n              />\n            </div>\n          </div>\n        )}\n        <KonamiTracker\n          onCheat={() => {\n            onJsonDataChange({\n              featureFlags: { ...featureFlags, oauthPassThru: !featureFlags.oauthPassThru },\n            });\n          }}\n        />\n        <FeatureFlagsWarning featureFlags={featureFlags} />\n      </div>\n    </>\n  );\n}\n","/* eslint-disable no-template-curly-in-string */\nimport React from 'react';\n\nconst Code = ({ children }) => <code className=\"query-keyword\">{children}</code>;\n\nexport const customQueryHelp = (\n  <div className=\"gf-form--grow\">\n    <pre>\n      Format: <Code>{`ts{options}`}</Code>\n      <br />\n      Options are of the form: <Code>PROPERTY COMPARATOR VALUE</Code>\n      <br />\n      <br />\n      Comparator can be either:\n      <br />\n      <Code>=</Code> (strict equality),\n      <br />\n      <Code>!=</Code> (strict inequality),\n      <br />\n      <Code>=~</Code> (regex equality),\n      <br />\n      <Code>!~</Code> (regex inequality)\n      <br />\n      <br />\n      If you want to reference a specific time series, use:\n      <br />\n      <Code>{'ts{id=ID}'}</Code>, or{' '}\n      <Code>{`ts{externalId='EXTERNAL_ID', aggregate='AGGREGATE', granularity='GRANULARITY', alignment=ALIGNMENT}`}</Code>\n      .<br />\n      Example: <Code>{`sum(ts{metadata{type=\"TEMP\"}}) - ts{id=12345678}`}</Code>\n      <br />\n      <br />\n      Templated variables can also be used with <Code>$variable</Code>.<br />\n      Example:{' '}\n      <Code>{`ts{assetIds=[$asset], metadata={key1=~'.*test.*'}, isStep=1, granularity='12h', aggregate='average'}`}</Code>\n      <br />\n      <br />\n      In case of multi-value variable, return value can be formatted. To format variable value use{' '}\n      <Code>{'${variable:[formatter]}'}</Code>.<br />\n      Example: <Code>\n        {\"ts{assetIds=[${asset:csv}], granularity='12h', aggregate='average'}\"}\n      </Code>{' '}\n      <br />\n      <br />\n      Check{' '}\n      <a\n        className=\"query-keyword\"\n        href=\"https://grafana.com/docs/grafana/latest/reference/templating/#advanced-formatting-options\"\n      >\n        Grafana documentation\n      </a>{' '}\n      to get list of available formatters.\n      <br />\n      <br />\n      Synthetic timeseries functions can also be applied on one or multiple timeseries.\n      <br />\n      Example: <Code>{`(ts{name=~'.*temp.*', aggregate='average'} - 32) * 5/9`}</Code>\n      <br />\n      <Code>{`ts{} + sin(ts{granularity='24h', aggregate='average'})`}</Code>\n      <br />\n      <br />\n      Variable length functions (sum, max, min, avg) can also be applied to all filtered timeseries.\n      Examples:\n      <br />\n      <Code>{`sum(ts{metadata={type=\"TEMP\"}})`}</Code>\n      <br />\n       yields one timeseries that is thesum of all temperature timeseries\n      <br />\n      <Code>{\"max(ts{aggregate='average'}) - min(ts{aggregate='average'})\"}</Code>\n      <br />\n       yields the range of the timeseries aggregated by averages\n      <br />\n      <Code>{'pow(ts{} - avg(ts{}), 2)'}</Code>\n      <br />\n       yields the squared deviation of each timeseries from the average <br />\n      <br />\n      There is a support for some advanced functions, like <Code>round</Code>, <Code>on_error</Code>{' '}\n      and <Code>map</Code>.<br />\n      The documentation on how to use them can be found on{' '}\n      <a\n        className=\"query-keyword\"\n        href=\"https://docs.cognite.com/dev/concepts/resource_types/timeseries.html#synthetic-time-series\"\n      >\n        docs.cognite.com/dev\n      </a>\n      .<br />\n      <br />\n      To learn more about the querying capabilities of Cognite Data Source for Grafana, please visit\n      our{' '}\n      <a\n        className=\"query-keyword\"\n        href=\"https://docs.cognite.com/cdf/dashboards/guides/grafana/getting_started.html\"\n      >\n        documentation\n      </a>\n      .\n    </pre>\n  </div>\n);\n","import React, { useEffect, useState } from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { AsyncSelect, InlineFormLabel, LegacyForms } from '@grafana/ui';\nimport { targetToIdEither } from '../cdf/client';\nimport { IdEither, Resource } from '../cdf/types';\nimport { resource2DropdownOption } from '../datasource';\nimport { CogniteTargetObj, Tab } from '../types';\n\nconst { FormField } = LegacyForms;\n\nconst optionalIdsToTargetObj = ({\n  id,\n  externalId,\n}: Partial<Pick<Resource, 'id' | 'externalId'>>): CogniteTargetObj => {\n  return externalId\n    ? {\n        target: externalId,\n        targetRefType: 'externalId' as const,\n      }\n    : {\n        target: id,\n        targetRefType: 'id' as const,\n      };\n};\n\nexport function ResourceSelect(props: {\n  query: CogniteTargetObj;\n  resourceType: Tab.Timeseries | Tab.Asset;\n  onTargetQueryChange: (patch: CogniteTargetObj, shouldRunQuery?: boolean) => void;\n  fetchSingleResource: (id: IdEither) => Promise<Resource[]>;\n  searchResource: (query: string) => Promise<Resource[]>;\n}) {\n  const { query, onTargetQueryChange, resourceType, searchResource, fetchSingleResource } = props;\n\n  const [current, setCurrent] = useState<SelectableValue<string | number> & Partial<Resource>>({});\n  const [externalIdField, setExternalIdField] = useState<string>();\n\n  const onDropdown = (value: SelectableValue<string | number> & Resource) => {\n    setExternalIdField(value.externalId);\n    setCurrent(value);\n    onTargetQueryChange(optionalIdsToTargetObj(value));\n  };\n\n  const onExternalIdField = async (externalId: string) => {\n    const resource = await fetchDropdownResource({ externalId });\n    const currentOption = resource ? resource2DropdownOption(resource) : {};\n    setCurrent(currentOption);\n    onTargetQueryChange(optionalIdsToTargetObj({ externalId }));\n  };\n\n  const fetchDropdownResource = async (id: IdEither) => {\n    try {\n      const [res] = await fetchSingleResource(id);\n      return res;\n    } catch {\n      return null;\n    }\n  };\n\n  const migrateToExternalIdRefIfNeeded = (resource: Resource) => {\n    if (resource.externalId && query.targetRefType !== 'externalId') {\n      onTargetQueryChange(optionalIdsToTargetObj(resource), false);\n    }\n  };\n\n  useEffect(() => {\n    const idEither = targetToIdEither(query);\n    setExternalIdField(idEither.externalId);\n    fetchDropdownResource(idEither).then(async (resource) => {\n      if (resource) {\n        setCurrent(resource2DropdownOption(resource));\n        migrateToExternalIdRefIfNeeded(resource);\n        setExternalIdField(resource.externalId);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"gf-form gf-form-inline\">\n      <InlineFormLabel width={7} tooltip={`${resourceType} name`}>\n        {current.value ? 'Name' : 'Search'}\n      </InlineFormLabel>\n      <AsyncSelect\n        loadOptions={searchResource}\n        defaultOptions\n        value={current.value ? current : null}\n        placeholder={`Search ${resourceType.toLowerCase()} by name/description`}\n        className=\"width-20\"\n        onChange={onDropdown}\n      />\n      <FormField\n        label=\"External Id\"\n        labelWidth={7}\n        inputWidth={20}\n        onBlur={({ target }) => onExternalIdField(target.value)}\n        onChange={({ target }) => setExternalIdField(target.value)}\n        value={externalIdField || ''}\n        placeholder={current.value ? 'No external id present' : 'Insert external id'}\n        tooltip={`${resourceType} external id`}\n      />\n    </div>\n  );\n}\n","import defaults from 'lodash/defaults';\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  LegacyForms,\n  Tab,\n  TabsBar,\n  TabContent,\n  Select,\n  InlineFormLabel,\n  Icon,\n  Switch,\n  AsyncSelect,\n} from '@grafana/ui';\nimport { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { SystemJS } from '@grafana/runtime';\nimport { customQueryHelp } from './queryHelp';\nimport CogniteDatasource, { resource2DropdownOption } from '../datasource';\nimport {\n  defaultQuery,\n  CogniteDataSourceOptions,\n  CogniteQuery,\n  Tab as Tabs,\n  QueryRequestError,\n  QueryDatapointsWarning,\n  CogniteTargetObj,\n  CogniteQueryBase,\n} from '../types';\nimport { failedResponseEvent, datapointsWarningEvent } from '../constants';\nimport '../css/query_editor.css';\nimport { ResourceSelect } from './resourceSelect';\nimport '../css/common.css';\n\nconst { FormField } = LegacyForms;\ntype EditorProps = QueryEditorProps<CogniteDatasource, CogniteQuery, CogniteDataSourceOptions>;\ntype OnQueryChange = (\n  patch: Partial<CogniteQueryBase> | CogniteTargetObj,\n  shouldRunQuery?: boolean\n) => void;\ntype SelectedProps = Pick<EditorProps, 'query'> & { onQueryChange: OnQueryChange };\nconst appEventsLoader = SystemJS.load('app/core/app_events');\n\nconst aggregateOptions = [\n  { value: 'none', label: 'None' },\n  { value: 'average', label: 'Average' },\n  { value: 'max', label: 'Max' },\n  { value: 'min', label: 'Min' },\n  { value: 'count', label: 'Count' },\n  { value: 'sum', label: 'Sum' },\n  { value: 'interpolation', label: 'Interpolation' },\n  { value: 'stepInterpolation', label: 'Step Interpolation' },\n  { value: 'continuousVariance', label: 'Continuous Variance' },\n  { value: 'discreteVariance', label: 'Discrete Variance' },\n  { value: 'totalVariation', label: 'Total Variation' },\n];\n\nconst GranularityEditor = (props: SelectedProps) => {\n  const { query, onQueryChange } = props;\n  return (\n    query.aggregation &&\n    query.aggregation !== 'none' && (\n      <div className=\"gf-form\">\n        <FormField\n          label=\"Granularity\"\n          labelWidth={6}\n          inputWidth={10}\n          onChange={({ target }) => onQueryChange({ granularity: target.value })}\n          value={query.granularity}\n          placeholder=\"default\"\n          tooltip=\"The granularity of the aggregate values. Valid entries are: 'day' (or 'd'), 'hour' (or 'h'), 'minute' (or 'm'), 'second' (or 's'). Example: 12h.\"\n        />\n      </div>\n    )\n  );\n};\n\nconst AggregationEditor = (props: SelectedProps) => {\n  const { query, onQueryChange } = props;\n  return (\n    <div className=\"gf-form\">\n      <InlineFormLabel width={6}>Aggregation</InlineFormLabel>\n      <Select\n        onChange={({ value }) => onQueryChange({ aggregation: value })}\n        options={aggregateOptions}\n        menuPosition=\"fixed\"\n        value={query.aggregation}\n        className=\"width-10\"\n      />\n    </div>\n  );\n};\n\nconst LabelEditor = (props: SelectedProps) => {\n  const { query, onQueryChange } = props;\n  return (\n    <div className=\"gf-form gf-form--grow\">\n      <FormField\n        label=\"Label\"\n        labelWidth={6}\n        inputWidth={10}\n        onChange={({ target }) => onQueryChange({ label: target.value })}\n        value={query.label}\n        placeholder=\"default\"\n        tooltip=\"Set the label for each time series. Can also access time series properties via {{property}}. Eg: {{description}}-{{metadata.key}}\"\n      />\n    </div>\n  );\n};\n\nconst CommonEditors = ({ onQueryChange, query }: SelectedProps) => (\n  <div className=\"gf-form-inline\">\n    <AggregationEditor {...{ onQueryChange, query }} />\n    <GranularityEditor {...{ onQueryChange, query }} />\n    <LabelEditor {...{ onQueryChange, query }} />\n  </div>\n);\n\nconst IncludeSubAssetsCheckbox = (props: SelectedProps) => {\n  const { query, onQueryChange } = props;\n  const { includeSubtrees } = query.assetQuery;\n\n  const onIncludeSubtreesChange = (checked: boolean) => {\n    onQueryChange({\n      assetQuery: {\n        ...query.assetQuery,\n        includeSubtrees: checked,\n      },\n    });\n  };\n\n  return (\n    <div className=\"gf-form\">\n      <InlineFormLabel width={9}>Include sub-assets</InlineFormLabel>\n      <div className=\"gf-form-switch\">\n        <Switch\n          css=\"\"\n          value={includeSubtrees}\n          onChange={({ currentTarget }) => onIncludeSubtreesChange(currentTarget.checked)}\n        />\n      </div>\n    </div>\n  );\n};\n\nfunction AssetTab(props: SelectedProps & { datasource: CogniteDatasource }) {\n  const { query, datasource, onQueryChange } = props;\n\n  const [current, setCurrent] = useState<SelectableValue<string>>({\n    value: query.assetQuery.target,\n  });\n\n  const fetchAndSetDropdownLabel = async (id: number) => {\n    const [res] = await datasource.fetchSingleAsset({ id });\n    setCurrent(resource2DropdownOption(res));\n  };\n\n  useEffect(() => {\n    onQueryChange({\n      assetQuery: {\n        ...query.assetQuery,\n        target: current.value,\n      },\n    });\n  }, [current.value]);\n\n  useEffect(() => {\n    if (current.value && !current.label) {\n      fetchAndSetDropdownLabel(+current.value);\n    }\n  }, [current.value]);\n\n  return (\n    <div className=\"gf-form-inline\">\n      <div className=\"gf-form\">\n        <InlineFormLabel width={6}>Asset Tag</InlineFormLabel>\n        <AsyncSelect\n          loadOptions={(query) => datasource.getOptionsForDropdown(query, 'Asset')}\n          value={current}\n          defaultOptions\n          placeholder=\"Search asset by name/description\"\n          className=\"width-20\"\n          onChange={setCurrent}\n        />\n      </div>\n      <IncludeSubAssetsCheckbox {...{ onQueryChange, query }} />\n      <CommonEditors {...{ onQueryChange, query }} />\n    </div>\n  );\n}\n\nfunction TimeseriesTab(props: SelectedProps & { datasource: CogniteDatasource }) {\n  const { query, datasource, onQueryChange } = props;\n  return (\n    <div>\n      <ResourceSelect\n        {...{\n          query,\n          onTargetQueryChange: onQueryChange,\n          resourceType: Tabs.Timeseries,\n          fetchSingleResource: datasource.fetchSingleTimeseries,\n          searchResource: (query) => datasource.getOptionsForDropdown(query, Tabs.Timeseries),\n        }}\n      />\n      {/* {current.description && <pre>{current.description}</pre>} */}\n      <CommonEditors {...{ query, onQueryChange }} />\n    </div>\n  );\n}\n\nfunction CustomTab(props: SelectedProps & Pick<EditorProps, 'onRunQuery'>) {\n  const { query, onQueryChange } = props;\n  const [showHelp, setShowHelp] = useState(false);\n  const [value, setValue] = useState(query.expr);\n\n  return (\n    <>\n      <div className=\"gf-form\">\n        <FormField\n          label=\"Query\"\n          labelWidth={6}\n          inputWidth={30}\n          className=\"custom-query\"\n          onChange={({ target }) => setValue(target.value)}\n          onBlur={() => onQueryChange({ expr: value })}\n          value={value}\n          tooltip=\"Click help button for help.\"\n        />\n        <Icon name=\"question-circle\" onClick={() => setShowHelp(!showHelp)} />\n      </div>\n      <CommonEditors {...{ onQueryChange, query }} />\n      {showHelp && customQueryHelp}\n    </>\n  );\n}\n\nexport function QueryEditor(props: EditorProps) {\n  const { query: queryWithoutDefaults, onChange, onRunQuery, datasource } = props;\n  const query = defaults(queryWithoutDefaults, defaultQuery);\n  const { refId: thisRefId, tab } = query;\n  const [errorMessage, setErrorMessage] = useState('');\n  const [warningMessage, setWarningMessage] = useState('');\n\n  const onQueryChange: OnQueryChange = (patch, shouldRunQuery = true) => {\n    onChange({ ...query, ...patch } as CogniteQuery);\n    if (shouldRunQuery) {\n      setErrorMessage('');\n      setWarningMessage('');\n      onRunQuery();\n    }\n  };\n\n  const onSelectTab = (tab: Tabs) => () => {\n    onQueryChange({ tab });\n  };\n\n  const handleError = ({ refId, error }: QueryRequestError) => {\n    if (thisRefId === refId) {\n      setErrorMessage(error);\n    }\n  };\n  const handleWarning = ({ refId, warning }: QueryDatapointsWarning) => {\n    if (thisRefId === refId) {\n      setWarningMessage(warning);\n    }\n  };\n\n  const eventsSubscribe = async () => {\n    const appEvents = await appEventsLoader;\n    appEvents.on(failedResponseEvent, handleError);\n    appEvents.on(datapointsWarningEvent, handleWarning);\n  };\n\n  const eventsUnsubscribe = async () => {\n    const appEvents = await appEventsLoader;\n    appEvents.off(failedResponseEvent, handleError);\n    appEvents.off(datapointsWarningEvent, handleWarning);\n  };\n\n  useEffect(() => {\n    eventsSubscribe();\n    return () => eventsUnsubscribe();\n  }, [tab]);\n\n  return (\n    <div>\n      <TabsBar>\n        {Object.values(Tabs).map((t) => (\n          <Tab css=\"\" label={t} key={t} active={tab === t} onChangeTab={onSelectTab(t)} />\n        ))}\n      </TabsBar>\n      <TabContent>\n        {tab === Tabs.Asset && <AssetTab {...{ onQueryChange, query, datasource }} />}\n        {tab === Tabs.Timeseries && <TimeseriesTab {...{ onQueryChange, query, datasource }} />}\n        {tab === Tabs.Custom && <CustomTab {...{ onQueryChange, query, onRunQuery }} />}\n      </TabContent>\n      {errorMessage && <pre className=\"gf-formatted-error\">{errorMessage}</pre>}\n      {warningMessage && <pre className=\"gf-formatted-warning\">{warningMessage}</pre>}\n    </div>\n  );\n}\n","import { CogniteAnnotationQuery } from './types';\nimport CogniteDatasource from './datasource';\nimport { parse } from './parser/events-assets';\n\nexport class CogniteAnnotationsQueryCtrl {\n  public static templateUrl = 'partials/annotations.editor.html';\n\n  annotation: CogniteAnnotationQuery;\n  datasource: CogniteDatasource;\n\n  onBlur() {\n    this.annotation.error = '';\n\n    try {\n      const withReplacedVariable = this.datasource.replaceVariable(this.annotation.query);\n      parse(withReplacedVariable);\n    } catch ({ message }) {\n      this.annotation.error = message;\n    }\n  }\n}\n","import React from 'react';\nimport { VariableQueryData, VariableQueryProps } from '../types';\nimport { parse } from '../parser/events-assets';\n\nconst help = (\n  <pre>\n    Variable query uses the{' '}\n    <a\n      className=\"query-keyword\"\n      href=\"https://docs.cognite.com/api/v1/#operation/listAssets\"\n      target=\"_blank\"\n      rel=\"noreferrer\"\n    >\n      assets/list\n    </a>{' '}\n    endpoint for data fetching. <code className=\"query-keyword\">&apos;=&apos;</code> sign is used to\n    provide parameters for the request.\n    <br />\n    Format: <code className=\"query-keyword\">{`assets{param=value,...}`}</code>\n    <br />\n    Example:{' '}\n    <code className=\"query-keyword\">{`assets{assetSubtreeIds=[{id=123}, {externalId='external'}]}`}</code>\n    <br />\n    <br />\n    Results filtering is also possible by adding{' '}\n    <code className=\"query-keyword\">&apos;=~&apos;</code>,{' '}\n    <code className=\"query-keyword\">&apos;!~&apos;</code> and{' '}\n    <code className=\"query-keyword\">&apos;!=&apos;</code> signs to props. Applying few filters for\n    query acts as logic AND\n    <br />\n    Format:\n    <br />\n    <code className=\"query-keyword\">&apos;=~&apos;</code>  regex equality, means that provided\n    regexp is used to match defined prop and matched value will be included\n    <br />\n    <code className=\"query-keyword\">&apos;!~&apos;</code>  regex inequality, means that provided\n    regexp is used to match defined prop and matched value will be excluded\n    <br />\n    <code className=\"query-keyword\">&apos;!=&apos;</code>  strict inequality, means that provided\n    string is used to strict prop comparing and matched value will be excluded\n    <br />\n    Example:{' '}\n    <code className=\"query-keyword\">{`assets{metadata={KEY='value', KEY_2=~'value.*'}, assetSubtreeIds=[{id=123}]}`}</code>\n    To learn more about the querying capabilities of Cognite Data Source for Grafana, please visit\n    our{' '}\n    <a\n      className=\"query-keyword\"\n      href=\"https://docs.cognite.com/cdf/dashboards/guides/grafana/getting_started.html\"\n    >\n      documentation\n    </a>\n    .\n  </pre>\n);\n\nexport class CogniteVariableQueryEditor extends React.PureComponent<\n  VariableQueryProps,\n  VariableQueryData\n> {\n  defaults: VariableQueryData = {\n    query: '',\n    error: '',\n  };\n\n  constructor(props: VariableQueryProps) {\n    super(props);\n    const { query } = props;\n    this.state = Object.assign(this.defaults, query);\n  }\n\n  handleQueryChange = (event) => {\n    this.setState({ query: event.target.value, error: '' });\n  };\n\n  handleBlur = () => {\n    const { onChange } = this.props;\n    const { query } = this.state;\n\n    try {\n      parse(query);\n\n      onChange({ query }, query);\n    } catch ({ message }) {\n      this.setState({ error: message });\n      onChange({ query: '' }, '');\n    }\n  };\n\n  render() {\n    const { query, error } = this.state;\n\n    return (\n      <div>\n        <div className=\"gf-form gf-form--grow\">\n          <span className=\"gf-form-label query-keyword fix-query-keyword width-10\">Query</span>\n          <input\n            type=\"text\"\n            className=\"gf-form-input\"\n            value={query}\n            onChange={this.handleQueryChange}\n            onBlur={this.handleBlur}\n            placeholder=\"eg: assets{name='example', assetSubtreeIds=[{id=123456789, externalId='externalId'}]}\"\n          />\n        </div>\n        <div className=\"gf-form--grow\">\n          {error ? <pre className=\"gf-formatted-error\">{error}</pre> : null}\n          {help}\n        </div>\n      </div>\n    );\n  }\n}\n","import { DataSourcePlugin } from '@grafana/data';\n\nimport CogniteDatasource from './datasource';\n\nimport { ConfigEditor } from './components/configEditor';\nimport { QueryEditor } from './components/queryEditor';\nimport { CogniteAnnotationsQueryCtrl } from './annotationCtrl';\nimport { CogniteVariableQueryEditor } from './components/variableQueryEditor';\nimport { CogniteQuery, CogniteDataSourceOptions } from './types';\n\nexport const plugin = new DataSourcePlugin<\n  CogniteDatasource,\n  CogniteQuery,\n  CogniteDataSourceOptions\n>(CogniteDatasource)\n  .setConfigEditor(ConfigEditor)\n  .setVariableQueryEditor(CogniteVariableQueryEditor)\n  .setQueryEditor(QueryEditor)\n  .setAnnotationQueryCtrl(CogniteAnnotationsQueryCtrl);\n"],"sourceRoot":""}